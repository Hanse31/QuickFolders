<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/html4/loose.dtd">
<html>
  <head>
    <meta name="robots" content="noindex,noarchive,nofollow">
    <title>Bug 25526 &ndash; If no Signature is defined, %sig% is not removed</title>


<link rel="Top" href="https://quickfolders.org/bugzilla/bugs/">

  

  


  
    <link rel="Show" title="Dependency Tree"
          href="https://quickfolders.org/bugzilla/bugs/showdependencytree.cgi?id=25526&amp;hide_resolved=1">
      <link rel="Show" title="Dependency Graph"
            href="https://quickfolders.org/bugzilla/bugs/showdependencygraph.cgi?id=25526">


      <link rel="Show" title="Bug Activity"
            href="https://quickfolders.org/bugzilla/bugs/show_activity.cgi?id=25526">
      <link rel="Show" title="Printer-Friendly Version"
            href="https://quickfolders.org/bugzilla/bugs/show_bug.cgi?format=multiple&amp;id=25526">


    

    <script type="text/javascript">
  <!--
  
  function initHelp() {}
  // -->
  </script>

    

    
      <link href="https://quickfolders.org/bugzilla/bugs/skins/standard/global.css"
            rel="stylesheet"
            type="text/css">
    <!--[if IE]>
      
      <link href="skins/standard/IE-fixes.css"
            rel="stylesheet"
            type="text/css">
    <![endif]-->

    
        <link href="https://quickfolders.org/bugzilla/bugs/skins/standard/global.css"
              rel="stylesheet"
              title="Classic"
              type="text/css">
      <!--[if IE]>
        
        <link href="skins/standard/IE-fixes.css"
              rel="stylesheet"
              title="Classic"
              type="text/css">
      <![endif]-->

    

    

    
        <link href="https://quickfolders.org/bugzilla/bugs/skins/custom/global.css" rel="stylesheet" type="text/css">
    <!--[if IE]>
      
      <link href="skins/custom/IE-fixes.css"
            rel="stylesheet"
            type="text/css">
    <![endif]-->

    <link href="https://www.mozdev.org/sharedimages/mozdev-icon.png" rel="icon" type="image/png">
    

    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="Bugzilla@Mozdev" href="https://quickfolders.org/bugzilla/bugs/search_plugin.cgi">
                                          
  </head>



  <body onload=""
        class="www-mozdev-org-bugs bz_bug bz_status_RESOLVED bz_component_General bz_bug_25526">




<div id="header">
<div id="banner">
  </div>

<div id="mozdev-logolet">
<table border="0" cellspacing="0" cellpadding="0" id="titles">
<tr>
    <td id="title">
      <p>Bugzilla@Mozdev &ndash; Bug&nbsp;25526</p>
    </td>

    <td id="subtitle">
      <p class="subheader">If no Signature is defined, %sig% is not removed</p>
    </td>

    <td id="information">
      <p class="header_addl_info">Last modified: 2013-08-09 05:57:18</p>
    </td>
</tr>
</table>
</div>

<ul class="links">
  <li><a href="https://quickfolders.org/bugzilla/bugs/">Home</a></li>
  <li><span class="separator">| </span><a href="https://quickfolders.org/bugzilla/bugs/enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="https://quickfolders.org/bugzilla/bugs/query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="https://quickfolders.org/bugzilla/bugs/buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input class="txt" type="text" name="quicksearch">
    <input class="btn" type="submit" value="Find" id="find_top"></form></li>

  <li><span class="separator">| </span><a href="https://quickfolders.org/bugzilla/bugs/report.cgi">Reports</a></li>

  <li>
    <span class="separator">| </span>
      <a href="https://quickfolders.org/bugzilla/bugs/request.cgi">Requests</a></li>


      <li><span class="separator">| </span><a href="https://quickfolders.org/bugzilla/bugs/createaccount.cgi">New&nbsp;Account</a></li>
      



      

        
      <li><span class="separator">| </span><a href="https://quickfolders.org/bugzilla/bugs/show_bug.cgi?id=25526&amp;GoAheadAndLogIn=1">Log&nbsp;In</a></li>
</ul>

</div>

<div id="bugzilla-body">

<i><font color="#777777">First</font></i>
  <i><font color="#777777">Last</font></i>
  <i><font color="#777777">Prev</font></i>
  <i><font color="#777777">Next</font></i>
  &nbsp;&nbsp;
  <i><font color="#777777">No search results available</font></i>

<hr>
<script type="text/javascript">
  <!--

  /* Outputs a link to call replyToComment(); used to reduce HTML output */
  function addReplyLink(id) {
      /* XXX this should really be updated to use the DOM Core's
       * createElement, but finding a container isn't trivial.
       */
      document.write('[<a href="#add_comment" onclick="replyToComment(' + 
                     id + ');">reply<' + '/a>]');
  }

  /* Adds the reply text to the `comment' textarea */
  function replyToComment(id) {
      /* pre id="comment_name_N" */
      var text_elem = document.getElementById('comment_text_'+id);
      var text = getText(text_elem);

      /* make sure we split on all newlines -- IE or Moz use \r and \n
       * respectively.
       */
      text = text.split(/\r|\n/);

      var replytext = "";
      for (var i=0; i < text.length; i++) {
          replytext += "> " + text[i] + "\n"; 
      }

      replytext = "(In reply to comment #" + id + ")\n" + replytext + "\n";


      /* <textarea id="comment"> */
      var textarea = document.getElementById('comment');
      textarea.value += replytext;

      textarea.focus();
  }

  if (typeof Node == 'undefined') {
      /* MSIE doesn't define Node, so provide a compatibility object */
      window.Node = {
          TEXT_NODE: 3,
          ENTITY_REFERENCE_NODE: 5
      };
  }

  /* Concatenates all text from element's childNodes. This is used
   * instead of innerHTML because we want the actual text (and
   * innerText is non-standard).
   */
  function getText(element) {
      var child, text = "";
      for (var i=0; i < element.childNodes.length; i++) {
          child = element.childNodes[i];
          var type = child.nodeType;
          if (type == Node.TEXT_NODE || type == Node.ENTITY_REFERENCE_NODE) {
              text += child.nodeValue;
          } else {
              /* recurse into nodes of other types */
              text += getText(child);
          }
      }
      return text;
  }


  function updateCommentTagControl(checkbox, form) {
      if (checkbox.checked) {
          form.comment.className='bz_private';
      } else {
          form.comment.className='';
      }
  }

  //-->
  </script>

<form name="changeform" method="post" action="https://quickfolders.org/bugzilla/bugs/process_bug.cgi">

  <input type="hidden" name="delta_ts" value="2013-08-09 05:57:18">
  <input type="hidden" name="longdesclength" value="18">
  <input type="hidden" name="id" value="25526">

  
  <table>
    <tr>
      <td valign="top">
        <fieldset>
          <legend>Details</legend>
          <table>

            
            <tr>
              <td align="right">
                <label for="short_desc" accesskey="s"><b><u>S</u>ummary</b></label>:
              </td><td colspan="2">
       <input type="hidden" name="short_desc" id="short_desc"
              value="If no Signature is defined, %sig% is not removed">If no Signature is defined, %sig% is not removed
  </td>
            </tr>

            <tr>
              <td colspan="3">
                <table>
                  <tr>
                    
                    <td valign="top"><table cellspacing="1" cellpadding="1">
    <tr>
      <td align="right">
        <b>Bug#</b>:
      </td>
      <td>
        <a href="show_bug.cgi@id=25526.html">25526</a>
      </td>
    </tr>


    <tr>
      <td align="right">
        <label for="product" accesskey="p"><b><u>P</u>roduct</b></label>:
      </td><td>
      <input type="hidden" id="product" name="product" value="smarttemplate4">smarttemplate4
  </td>
    </tr>

    <tr>
      <td align="right">
        <label for="component" accesskey="m"><b><a href="https://quickfolders.org/bugzilla/bugs/describecomponents.cgi?product=smarttemplate4">Co<u>m</u>ponent</a></b></label>:
      </td><td>
      <input type="hidden" id="component" name="component" value="General">General
  </td>
    </tr>

    <tr>
      <td align="right">
        <b><a href="https://quickfolders.org/bugzilla/bugs/page.cgi?id=fields.html#status">Status</a></b>:
      </td>
      <td>RESOLVED</td>
    </tr>

    <tr>
      <td align="right">
        <b><a href="https://quickfolders.org/bugzilla/bugs/page.cgi?id=fields.html#resolution">Resolution</a></b>:
      </td>
      <td>FIXED
      </td>
    </tr>
  </table></td>

                    
                    <td valign="top"><table cellspacing="1" cellpadding="1">
    <tr>
      <td align="right">
        <label for="rep_platform" accesskey="h"><b><u>H</u>ardware</b></label>:
      </td><td>
      <input type="hidden" id="rep_platform" name="rep_platform" value="PC">PC
  </td>
    </tr>

    <tr>
      <td align="right">
        <label for="op_sys" accesskey="o"><b><u>O</u>S</b></label>:
      </td><td>
      <input type="hidden" id="op_sys" name="op_sys" value="Windows NT">Windows NT
  </td>
    </tr>

    <tr>
      <td align="right">
        <label for="version"><b>Version</b></label>:
      </td><td>
      <input type="hidden" id="version" name="version" value="unspecified">unspecified
  </td>
    </tr>

    <tr>
      <td align="right">
        <label for="priority" accesskey="i"><b><a href="https://quickfolders.org/bugzilla/bugs/page.cgi?id=fields.html#priority">Pr<u>i</u>ority</a></b></label>:
      </td><td>
      <input type="hidden" id="priority" name="priority" value="P2">P2
  </td>
    </tr>

    <tr>
      <td align="right">
        <label for="bug_severity"><b><a href="https://quickfolders.org/bugzilla/bugs/page.cgi?id=fields.html#bug_severity">Severity</a></b></label>:
      </td><td>
      <input type="hidden" id="bug_severity" name="bug_severity" value="normal">normal
  </td>
    </tr>

      <tr>
        <td align="right">
          <label for="target_milestone"><b>
            Target Milestone</b></label>:
        </td><td>
      <input type="hidden" id="target_milestone" name="target_milestone" value="---">---
  </td>
      </tr>
  </table></td>
                  </tr>
                </table>
              </td>
            </tr>

            <tr>
              <td colspan="3"><hr size="1"></td>
            </tr>

            

            <tr>
              <td align="right">
                <label for="bug_file_loc" accesskey="u"><b>
                    <u>U</u>RL</b></label>:
              </td><td colspan="2">
       <input type="hidden" name="bug_file_loc" id="bug_file_loc"
              value="">
  </td>
            </tr>

              <tr>
                <td align="right">
                  <label for="status_whiteboard" accesskey="w"><b><u>W</u>hiteboard</b></label>:
                </td><td colspan="2">
       <input type="hidden" name="status_whiteboard" id="status_whiteboard"
              value="">
  </td>
              </tr>

              <tr>
                <td align="right">
                  <label for="keywords" accesskey="k">
                    <b><a href="https://quickfolders.org/bugzilla/bugs/describekeywords.cgi"><u>K</u>eywords</a></b></label>:
                </td><td colspan="2">
       <input type="hidden" name="keywords" id="keywords"
              value="">
  </td>
              </tr>

            


            

            <tr><th align="right">
    <label for="dependson">Depends&nbsp;on</label>:
  </th>
  <td>
  </td>
  <td>
      <input type="hidden" id="dependson" name="dependson"
             value="">
  </td>
            </tr>

            <tr><th align="right">
    <label for="blocked" accesskey="b"><u>B</u>locks</label>:
  </th>
  <td>
  </td>
  <td>
      <input type="hidden" id="blocked" name="blocked"
             value="">
  </td>
            </tr>

            <tr>
              <th>&nbsp;</th>

              <td colspan="2">
                <a href="https://quickfolders.org/bugzilla/bugs/showdependencytree.cgi?id=25526&amp;hide_resolved=1">Show
                   dependency tree</a>

                  - <a href="https://quickfolders.org/bugzilla/bugs/showdependencygraph.cgi?id=25526">Show
                       dependency graph</a>
              </td>
            </tr>
          </table>
        </fieldset>
      </td>

      
      <script type="text/javascript">
        <!--
        var v = document.body.offsetHeight;
        //-->
      </script>

      <td valign="top">
        
        <fieldset>
          <legend>People</legend><table cellpadding="1" cellspacing="1">
    <tr>
      <td align="right">
        <b>Reporter</b>:
      </td>
      <td>
        <a href="mailto:axel.grude&#64;gmail.com">Axel Grude &lt;axel.grude&#64;gmail.com&gt;</a>
      </td>
    </tr>

    <tr>
      <td align="right">
        <b><a href="https://quickfolders.org/bugzilla/bugs/page.cgi?id=fields.html#assigned_to">Assigned&nbsp;To</a></b>:
      </td>
      <td>
        <a href="mailto:axel.grude&#64;gmail.com">Axel Grude &lt;axel.grude&#64;gmail.com&gt;</a>
      </td>
    </tr>



    <tr>
        <td align="right" valign="top">
          <label for="cc"><b>CC</b></label>:
        </td>
        <td valign="top">
          <select id="cc" name="cc" multiple="multiple" size="5">
            <option value="f.niedernolte&#64;gmail.com">f.niedernolte&#64;gmail.com</option>
          </select>
        </td>
    </tr>
  </table>
        </fieldset>

        
      </td>
    </tr>
  </table>



<script type="text/javascript">
  <!--
  function toggle_display(link) {
    var table = document.getElementById("attachment_table");
    var rows = table.getElementsByTagName("tr");
    var originalHeight = table.offsetHeight; // Store current height for scrolling

    var toggle;
    if (link.innerHTML == "Show Obsolete") {
      toggle = ""; // This should be 'table-row', but IE 6 doesn't understand it.
      link.innerHTML = "Hide Obsolete";
    }
    else {
      toggle = "none";
      link.innerHTML = "Show Obsolete";
    }

    for (var i = 0; i < rows.length; i++) {
      if (rows[i].className.match('bz_tr_obsolete'))
        rows[i].style.display = toggle;
    }

    var newHeight = table.offsetHeight;
    window.scrollBy(0, newHeight - originalHeight);

    return false;
  }
  //-->
</script>

<br>
<table id="attachment_table" cellspacing="0" cellpadding="4">
  <tr>
    <th colspan="3" align="left">
      <a name="a0" id="a0">Attachments</a>
    </th>
  </tr>


      <tr class="
                 bz_tr_obsolete">
        <td valign="top">
            <a name="a1" href="smartTemplate-0.9.4pre19.xpi"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">0.9.4 Prerelease 19</span></b></a>

          <span class="bz_attach_extra_info">
              (314.23 KB,
                application/x-xpinstall)

            <br>
            <a href="show_bug.cgi@id=25526.html#attach_7639"
               title="Go to the comment associated with the attachment">2013-08-07 01:40</a>,

            <a href="mailto:axel.grude&#64;gmail.com"
               title="Write an email to the creator of the attachment">Axel Grude
            </a>
          </span>
        </td>

          <td class="bz_attach_flags" valign="top">
              <i>no flags</i>
          </td>

        <td valign="top">
          <a href="https://quickfolders.org/bugzilla/bugs/attachment.cgi?id=7639&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr class="
                 bz_tr_obsolete">
        <td valign="top">
            <a name="a2" href="smartTemplate-0.9.4pre20.xpi"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">0.9.4 Prerelease 20</span></b></a>

          <span class="bz_attach_extra_info">
              (314.18 KB,
                application/x-xpinstall)

            <br>
            <a href="show_bug.cgi@id=25526.html#attach_7640"
               title="Go to the comment associated with the attachment">2013-08-07 03:18</a>,

            <a href="mailto:axel.grude&#64;gmail.com"
               title="Write an email to the creator of the attachment">Axel Grude
            </a>
          </span>
        </td>

          <td class="bz_attach_flags" valign="top">
              <i>no flags</i>
          </td>

        <td valign="top">
          <a href="https://quickfolders.org/bugzilla/bugs/attachment.cgi?id=7640&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr class="
                 ">
        <td valign="top">
            <a name="a3" href="st4log.txt"
               title="View the content of the attachment">
          <b>Log file of the problem</b></a>

          <span class="bz_attach_extra_info">
              (11.56 KB,
                text/plain)

            <br>
            <a href="show_bug.cgi@id=25526.html#attach_7641"
               title="Go to the comment associated with the attachment">2013-08-07 03:39</a>,

            <a href="mailto:f.niedernolte&#64;gmail.com"
               title="Write an email to the creator of the attachment">Frederik Niedernolte
            </a>
          </span>
        </td>

          <td class="bz_attach_flags" valign="top">
              <i>no flags</i>
          </td>

        <td valign="top">
          <a href="https://quickfolders.org/bugzilla/bugs/attachment.cgi?id=7641&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr class="
                 ">
        <td valign="top">
            <a name="a4" href="st4log3.txt"
               title="View the content of the attachment">
          <b>No signature shown</b></a>

          <span class="bz_attach_extra_info">
              (8.87 KB,
                text/plain)

            <br>
            <a href="show_bug.cgi@id=25526.html#attach_7643"
               title="Go to the comment associated with the attachment">2013-08-07 04:22</a>,

            <a href="mailto:f.niedernolte&#64;gmail.com"
               title="Write an email to the creator of the attachment">Frederik Niedernolte
            </a>
          </span>
        </td>

          <td class="bz_attach_flags" valign="top">
              <i>no flags</i>
          </td>

        <td valign="top">
          <a href="https://quickfolders.org/bugzilla/bugs/attachment.cgi?id=7643&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr class="
                 bz_tr_obsolete">
        <td valign="top">
            <a name="a5" href="smartTemplate-0.9.4pre21.xpi"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">0.9.4 Prerelease 21</span></b></a>

          <span class="bz_attach_extra_info">
              (314.31 KB,
                application/x-xpinstall)

            <br>
            <a href="show_bug.cgi@id=25526.html#attach_7644"
               title="Go to the comment associated with the attachment">2013-08-07 05:01</a>,

            <a href="mailto:axel.grude&#64;gmail.com"
               title="Write an email to the creator of the attachment">Axel Grude
            </a>
          </span>
        </td>

          <td class="bz_attach_flags" valign="top">
              <i>no flags</i>
          </td>

        <td valign="top">
          <a href="https://quickfolders.org/bugzilla/bugs/attachment.cgi?id=7644&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr class="
                 bz_tr_obsolete">
        <td valign="top">
            <a name="a6" href="smartTemplate-0.9.4pre25.xpi"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">0.9.4 Prerelease 25</span></b></a>

          <span class="bz_attach_extra_info">
              (314.59 KB,
                application/x-xpinstall)

            <br>
            <a href="show_bug.cgi@id=25526.html#attach_7645"
               title="Go to the comment associated with the attachment">2013-08-07 09:19</a>,

            <a href="mailto:axel.grude&#64;gmail.com"
               title="Write an email to the creator of the attachment">Axel Grude
            </a>
          </span>
        </td>

          <td class="bz_attach_flags" valign="top">
              <i>no flags</i>
          </td>

        <td valign="top">
          <a href="https://quickfolders.org/bugzilla/bugs/attachment.cgi?id=7645&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr class="
                 ">
        <td valign="top">
            <a name="a7" href="smartTemplate-0.9.4pre26.xpi"
               title="View the content of the attachment">
          <b>0.9.4 Prerelease 26</b></a>

          <span class="bz_attach_extra_info">
              (314.61 KB,
                application/x-xpinstall)

            <br>
            <a href="show_bug.cgi@id=25526.html#attach_7646"
               title="Go to the comment associated with the attachment">2013-08-07 12:32</a>,

            <a href="mailto:axel.grude&#64;gmail.com"
               title="Write an email to the creator of the attachment">Axel Grude
            </a>
          </span>
        </td>

          <td class="bz_attach_flags" valign="top">
              <i>no flags</i>
          </td>

        <td valign="top">
          <a href="https://quickfolders.org/bugzilla/bugs/attachment.cgi?id=7646&amp;action=edit">Details</a>
        </td>
      </tr>

  <tr class="bz_attach_footer">
    <td colspan="3">
        <span class="bz_attach_view_hide">
            <a href="show_bug.cgi@id=25526.html#a0" onClick="return toggle_display(this);">Hide Obsolete</a> (4)
        </span>
      <a href="https://quickfolders.org/bugzilla/bugs/attachment.cgi?bugid=25526&amp;action=enter">Add an attachment</a>
      (proposed patch, testcase, etc.)
    </td>
  </tr>
</table>
<br>




  <br>
  <table cellpadding="1" cellspacing="1">
    <tr>
      <td>
          <fieldset>
            <legend>Note</legend>
            <p>
              You need to
              <a href="https://quickfolders.org/bugzilla/bugs/show_bug.cgi?id=25526&amp;GoAheadAndLogIn=1">log in</a>
              before you can comment on or make changes to this bug.
            </p>
          </fieldset>
      </td>

      <td valign="top">
        <fieldset>
          <legend>Related actions</legend>
          <ul>
            <li><a href="https://quickfolders.org/bugzilla/bugs/show_activity.cgi?id=25526">View Bug Activity</a></li>
            <li><a href="https://quickfolders.org/bugzilla/bugs/show_bug.cgi?format=multiple&amp;id=25526">Format For Printing</a></li>
            <li><a href="https://quickfolders.org/bugzilla/bugs/show_bug.cgi?ctype=xml&amp;id=25526">XML</a></li>
            <li><a href="https://quickfolders.org/bugzilla/bugs/enter_bug.cgi?cloned_bug_id=25526">Clone This Bug</a></li>
          </ul>


          
        </fieldset>
      </td>
    </tr>
  </table>
  <br>





<hr>

<div id="comments"><script type="text/javascript">
  <!--
  function updateCommentPrivacy(checkbox, id) {
    var comment_elem = document.getElementById('comment_text_'+id).parentNode;
    if (checkbox.checked) {
      if (!comment_elem.className.match('bz_private')) {
        comment_elem.className = comment_elem.className.concat(' bz_private');
      }
    }
    else {
      comment_elem.className =
        comment_elem.className.replace(/(\s*|^)bz_private(\s*|$)/, '$2');
    }
  }
  //-->
  </script>








<div class="bz_comment">
        <table>
          <tr>
            <th align="left">
              <b><a name="c0" href="show_bug.cgi@id=25526.html#c0">
                Description</a>:</b>&nbsp;&nbsp;
            </th>
            <td align="left" width="30%">
              <b>Opened:</b> 2013-08-07 00:49
            </td>
          </tr>
        </table>
        


<pre class="bz_comment_text" >If no Signature is defined, the %sig% variable should be removed. Instead this
is inserted:

&lt;sig class=&quot;st4-signature&quot; removedashes=&quot;false&quot;&gt;%sig%&lt;/sig&gt;
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c1" href="show_bug.cgi@id=25526.html#c1">
            #1</a> From 
          <a href="mailto:f.niedernolte&#64;gmail.com">Frederik Niedernolte</a>
          2013-08-07 01:37:34 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" >Bug is also relevant for %sig(2)%
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c2" href="show_bug.cgi@id=25526.html#c2">
            #2</a> From 
          <a href="mailto:axel.grude&#64;gmail.com">Axel Grude</a>
          2013-08-07 01:40:06 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" ><span class="bz_obsolete"><a href="smartTemplate-0.9.4pre19.xpi" name="attach_7639" title="0.9.4 Prerelease 19">Created an attachment (id=7639)</a> <a href="https://quickfolders.org/bugzilla/bugs/attachment.cgi?id=7639&amp;action=edit" title="0.9.4 Prerelease 19">[details]</a></span>
0.9.4 Prerelease 19

To note: I think the bug only manifests if you are using Stationery with a
%sig% in it.

To try this version, have Stationery support enabled and Stationery0.8
installed. Put the %sig% wherever you like; if there is no signature defined it
should now remove the variable.
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c3" href="show_bug.cgi@id=25526.html#c3">
            #3</a> From 
          <a href="mailto:f.niedernolte&#64;gmail.com">Frederik Niedernolte</a>
          2013-08-07 01:45:57 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" >Your uploaded version works as expected but when there is a signature specified
it won't be displayed. Instead only a %sig% is shown:

&lt;sig class=&quot;st4-signature&quot; removedashes=&quot;true&quot;&gt;%sig(2)%&lt;/sig&gt;
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c4" href="show_bug.cgi@id=25526.html#c4">
            #4</a> From 
          <a href="mailto:axel.grude&#64;gmail.com">Axel Grude</a>
          2013-08-07 02:54:36 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi@id=25526.html#c3">comment #3</a>)
<span class="quote">&gt; Your uploaded version works as expected but when there is a signature specified
&gt; it won't be displayed. Instead only a %sig% is shown:
&gt; 
&gt; &lt;sig class=&quot;st4-signature&quot; removedashes=&quot;true&quot;&gt;%sig(2)%&lt;/sig&gt;
&gt; </span >
nice catch - can you test with %sig% as well?
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c5" href="show_bug.cgi@id=25526.html#c5">
            #5</a> From 
          <a href="mailto:f.niedernolte&#64;gmail.com">Frederik Niedernolte</a>
          2013-08-07 03:13:02 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" >Yes, same problem.

But another strange thing:

I have mail account A without a signature and mail Account B with a signature
specified in the Thunderbird mail account settings.

Now when I compose a new mail from mail account A no %sig% is shown as it
should. If I go to the inbox folder of mail account B and compose a new mail
the %sig% problem occurs.
But if I compose a new mail started from the inbox of mail account A and then
switch inside of the composing window the mail account to B the signature will
be added as it should PLUS -- and the signature again.
Look at the source code:

&lt;body smarttemplateinserted=&quot;true&quot;&gt;&lt;div id=&quot;smartTemplate4-template&quot;&gt;
&lt;title&gt;&lt;/title&gt;
&lt;p&gt;
test&lt;br&gt;1st signature&amp;nbsp;&lt;/div&gt;&lt;br&gt;
&lt;br&gt;&lt;div class=&quot;moz-signature&quot;&gt;-- &lt;br&gt;
&lt;/div&gt;&lt;/body&gt;

So this seems to be another or related bug.
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c6" href="show_bug.cgi@id=25526.html#c6">
            #6</a> From 
          <a href="mailto:axel.grude&#64;gmail.com">Axel Grude</a>
          2013-08-07 03:18:34 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" ><span class="bz_obsolete"><a href="smartTemplate-0.9.4pre20.xpi" name="attach_7640" title="0.9.4 Prerelease 20">Created an attachment (id=7640)</a> <a href="https://quickfolders.org/bugzilla/bugs/attachment.cgi?id=7640&amp;action=edit" title="0.9.4 Prerelease 20">[details]</a></span>
0.9.4 Prerelease 20

Bugfix - removing %sig% should now also work with sig(2).
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c7" href="show_bug.cgi@id=25526.html#c7">
            #7</a> From 
          <a href="mailto:axel.grude&#64;gmail.com">Axel Grude</a>
          2013-08-07 03:22:51 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi@id=25526.html#c5">comment #5</a>)
<span class="quote">&gt; Yes, same problem.
&gt; 
&gt; But another strange thing:
&gt; 
&gt; Now when I compose a new mail from mail account A no %sig% is shown as it
&gt; should. </span >

...

<span class="quote">&gt; So this seems to be another or related bug.</span >

Please raise a separate bug, if I wanted to quash all problems with signatures
in the same bug, this could never ever be closed :)

Generally it is not a good idea to add related bugs (it is a different test
case). In this case, there are indeed different logical flows at work.

</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c8" href="show_bug.cgi@id=25526.html#c8">
            #8</a> From 
          <a href="mailto:f.niedernolte&#64;gmail.com">Frederik Niedernolte</a>
          2013-08-07 03:39:09 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" ><span class=""><a href="st4log.txt" name="attach_7641" title="Log file of the problem">Created an attachment (id=7641)</a> <a href="https://quickfolders.org/bugzilla/bugs/attachment.cgi?id=7641&amp;action=edit" title="Log file of the problem">[details]</a></span>
Log file of the problem

Even with the new version 20 it doesn't work.

I have opened another bug report for the other problem with <a href="show_bug.cgi@id=25527.html" title="ASSIGNED - Double signature or none">bug #25527</a>
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c9" href="show_bug.cgi@id=25526.html#c9">
            #9</a> From 
          <a href="mailto:axel.grude&#64;gmail.com">Axel Grude</a>
          2013-08-07 04:06:10 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi@id=25526.html#c8">comment #8</a>)
<span class="quote">&gt; Created an <span class=""><a href="st4log.txt" name="attach_7641" title="Log file of the problem">attachment (id=7641)</a> <a href="https://quickfolders.org/bugzilla/bugs/attachment.cgi?id=7641&amp;action=edit" title="Log file of the problem">[details]</a></span> [details]
&gt; Log file of the problem
&gt; 
&gt; Even with the new version 20 it doesn't work.
&gt; 
&gt; I have opened another bug report for the other problem with <a href="show_bug.cgi@id=25527.html" title="ASSIGNED - Double signature or none">bug #25527</a>
&gt; </span >

I might have only tested the case %sig(2)% _with_ signature defined. Are you
saying it doesn remove if it is _not_ defined?
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c10" href="show_bug.cgi@id=25526.html#c10">
            #10</a> From 
          <a href="mailto:f.niedernolte&#64;gmail.com">Frederik Niedernolte</a>
          2013-08-07 04:22:45 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" ><span class=""><a href="st4log3.txt" name="attach_7643" title="No signature shown">Created an attachment (id=7643)</a> <a href="https://quickfolders.org/bugzilla/bugs/attachment.cgi?id=7643&amp;action=edit" title="No signature shown">[details]</a></span>
No signature shown

No, that works but it doesn't show the real signature when a signature is
specified even if it tried it in the error console first but it is not
displayed.
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c11" href="show_bug.cgi@id=25526.html#c11">
            #11</a> From 
          <a href="mailto:axel.grude&#64;gmail.com">Axel Grude</a>
          2013-08-07 05:00:28 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi@id=25526.html#c10">comment #10</a>)
<span class="quote">&gt; Created an <span class=""><a href="st4log3.txt" name="attach_7643" title="No signature shown">attachment (id=7643)</a> <a href="https://quickfolders.org/bugzilla/bugs/attachment.cgi?id=7643&amp;action=edit" title="No signature shown">[details]</a></span> [details]
&gt; No signature shown
&gt; 
&gt; No, that works but it doesn't show the real signature when a signature is
&gt; specified even if it tried it in the error console first but it is not
&gt; displayed.
&gt; </span >

Hmm, prerelease 20 worked for me. I put the signature in the Signature textbox
(Account Settings). What are your settings in Account settings?

[x] Use HTML

    Any signature text in the box?

[x] Attach the signature

    Any Filename here?

I have written another fix for dealing with %sig(2)% when it is _not_ defined,
uploading shortly.
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c12" href="show_bug.cgi@id=25526.html#c12">
            #12</a> From 
          <a href="mailto:axel.grude&#64;gmail.com">Axel Grude</a>
          2013-08-07 05:01:44 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" ><span class="bz_obsolete"><a href="smartTemplate-0.9.4pre21.xpi" name="attach_7644" title="0.9.4 Prerelease 21">Created an attachment (id=7644)</a> <a href="https://quickfolders.org/bugzilla/bugs/attachment.cgi?id=7644&amp;action=edit" title="0.9.4 Prerelease 21">[details]</a></span>
0.9.4 Prerelease 21

Fixing problem of not removing %sig(2)% when signature is not defined.
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c13" href="show_bug.cgi@id=25526.html#c13">
            #13</a> From 
          <a href="mailto:axel.grude&#64;gmail.com">Axel Grude</a>
          2013-08-07 09:19:39 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" ><span class="bz_obsolete"><a href="smartTemplate-0.9.4pre25.xpi" name="attach_7645" title="0.9.4 Prerelease 25">Created an attachment (id=7645)</a> <a href="https://quickfolders.org/bugzilla/bugs/attachment.cgi?id=7645&amp;action=edit" title="0.9.4 Prerelease 25">[details]</a></span>
0.9.4 Prerelease 25

Fixed the %sig% processing for the &quot;New mail&quot; case. Looks like a &quot;big fat side
effect&quot; which was based on an optional parameter backfired badly. Please test
relentlessly!

In this version I also added a (Stationery only) variable %quoteHeader% which
can be used to insert the contents of the [optional] quote header in the
Stationery Template. In the case of &quot;write new&quot; email this is of course simply
removed.
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c14" href="show_bug.cgi@id=25526.html#c14">
            #14</a> From 
          <a href="mailto:f.niedernolte&#64;gmail.com">Frederik Niedernolte</a>
          2013-08-07 12:18:00 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" >With prerelease 25 everything works except for strange and unnecessary &lt;br&gt; and
&lt;pre&gt; tags for the HTML signature (even if the option to replace line breaks
with &lt;br&gt; is deactivated and no &lt;br&gt; or &lt;pre&gt; tags are added to the HTML
signature).
Also &quot;&lt;div class=&quot;moz-cite-prefix&quot;&gt;schrieb Axel Grude (Axel):&lt;br&gt;&lt;/div&gt;&quot; isn't
necessary.
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c15" href="show_bug.cgi@id=25526.html#c15">
            #15</a> From 
          <a href="mailto:axel.grude&#64;gmail.com">Axel Grude</a>
          2013-08-07 12:32:31 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" ><span class=""><a href="smartTemplate-0.9.4pre26.xpi" name="attach_7646" title="0.9.4 Prerelease 26">Created an attachment (id=7646)</a> <a href="https://quickfolders.org/bugzilla/bugs/attachment.cgi?id=7646&amp;action=edit" title="0.9.4 Prerelease 26">[details]</a></span>
0.9.4 Prerelease 26

When called from a %quoteHeader% (and possibly also in other circumstances?)
the readSignature function made a bad attempt at guessing HTML format when
reading attached signature files. This would lead to extra &lt;br&gt; tags and some
unnecessary &lt;pre&gt; tags wrapping the signature.

This version fixes that.
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c16" href="show_bug.cgi@id=25526.html#c16">
            #16</a> From 
          <a href="mailto:axel.grude&#64;gmail.com">Axel Grude</a>
          2013-08-07 12:35:39 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi@id=25526.html#c14">comment #14</a>)

<span class="quote">&gt; Also &quot;&lt;div class=&quot;moz-cite-prefix&quot;&gt;schrieb Axel Grude (Axel):&lt;br&gt;&lt;/div&gt;&quot; isn't
&gt; necessary.
&gt; </span >

Methinks this observation belongs to [<span class="bz_closed"><a href="show_bug.cgi@id=25528.html" title="RESOLVED LATER - In Stationery template, standard quote header is not removed">Bug 25528</a></span>]. no bugspam, please :)
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c17" href="show_bug.cgi@id=25526.html#c17">
            #17</a> From 
          <a href="mailto:f.niedernolte&#64;gmail.com">Frederik Niedernolte</a>
          2013-08-09 05:17:10 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi@id=25526.html#c15">comment #15</a>)
<span class="quote">&gt; Created an <span class=""><a href="smartTemplate-0.9.4pre26.xpi" name="attach_7646" title="0.9.4 Prerelease 26">attachment (id=7646)</a> <a href="https://quickfolders.org/bugzilla/bugs/attachment.cgi?id=7646&amp;action=edit" title="0.9.4 Prerelease 26">[details]</a></span> [details]
&gt; 0.9.4 Prerelease 26
&gt; 
&gt; When called from a %quoteHeader% (and possibly also in other circumstances?)
&gt; the readSignature function made a bad attempt at guessing HTML format when
&gt; reading attached signature files. This would lead to extra &lt;br&gt; tags and some
&gt; unnecessary &lt;pre&gt; tags wrapping the signature.
&gt; 
&gt; This version fixes that.
&gt; </span >

Bug fixed, everything works perfectly :)
Thanks!
</pre>
    </div>
</div>

</form>

<hr>
<i><font color="#777777">First</font></i>
  <i><font color="#777777">Last</font></i>
  <i><font color="#777777">Prev</font></i>
  <i><font color="#777777">Next</font></i>
  &nbsp;&nbsp;
  <i><font color="#777777">No search results available</font></i>

<br>
</div>



<div id="footer">
  <div class="intro"></div>




<ul id="useful-links">
  <li id="links-actions">
    <div class="label">Actions: </div><ul class="links">
  <li><a href="https://quickfolders.org/bugzilla/bugs/">Home</a></li>
  <li><span class="separator">| </span><a href="https://quickfolders.org/bugzilla/bugs/enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="https://quickfolders.org/bugzilla/bugs/query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="https://quickfolders.org/bugzilla/bugs/buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input class="txt" type="text" name="quicksearch">
    <input class="btn" type="submit" value="Find" id="find_bottom"></form></li>

  <li><span class="separator">| </span><a href="https://quickfolders.org/bugzilla/bugs/report.cgi">Reports</a></li>

  <li>
    <span class="separator">| </span>
      <a href="https://quickfolders.org/bugzilla/bugs/request.cgi">Requests</a></li>


      <li><span class="separator">| </span><a href="https://quickfolders.org/bugzilla/bugs/createaccount.cgi">New&nbsp;Account</a></li>
      



      

        
      <li><span class="separator">| </span><a href="https://quickfolders.org/bugzilla/bugs/show_bug.cgi?id=25526&amp;GoAheadAndLogIn=1">Log&nbsp;In</a></li>
</ul>
  </li>

  
    
    
    

  


  
</ul>

  <div class="outro"></div>
</div>

</body>
</html>