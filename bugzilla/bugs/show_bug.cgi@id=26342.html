<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/html4/loose.dtd">
<html>
  <head>
    <meta name="robots" content="noindex,noarchive,nofollow">
    <title>Bug 26342 &ndash; Upper-Case Names are Returned as Proper Case in SmartTemplate4 Reply Headers</title>


<link rel="Top" href="https://quickfolders.org/bugzilla/bugs/">

  

  


  
    <link rel="Show" title="Dependency Tree"
          href="https://quickfolders.org/bugzilla/bugs/showdependencytree.cgi?id=26342&amp;hide_resolved=1">
      <link rel="Show" title="Dependency Graph"
            href="https://quickfolders.org/bugzilla/bugs/showdependencygraph.cgi?id=26342">


      <link rel="Show" title="Bug Activity"
            href="https://quickfolders.org/bugzilla/bugs/show_activity.cgi?id=26342">
      <link rel="Show" title="Printer-Friendly Version"
            href="https://quickfolders.org/bugzilla/bugs/show_bug.cgi?format=multiple&amp;id=26342">


    

    <script type="text/javascript">
  <!--
  
  function initHelp() {}
  // -->
  </script>

    

    
      <link href="https://quickfolders.org/bugzilla/bugs/skins/standard/global.css"
            rel="stylesheet"
            type="text/css">
    <!--[if IE]>
      
      <link href="skins/standard/IE-fixes.css"
            rel="stylesheet"
            type="text/css">
    <![endif]-->

    
        <link href="https://quickfolders.org/bugzilla/bugs/skins/standard/global.css"
              rel="stylesheet"
              title="Classic"
              type="text/css">
      <!--[if IE]>
        
        <link href="skins/standard/IE-fixes.css"
              rel="stylesheet"
              title="Classic"
              type="text/css">
      <![endif]-->

    

    

    
        <link href="https://quickfolders.org/bugzilla/bugs/skins/custom/global.css" rel="stylesheet" type="text/css">
    <!--[if IE]>
      
      <link href="skins/custom/IE-fixes.css"
            rel="stylesheet"
            type="text/css">
    <![endif]-->

    <link href="https://www.mozdev.org/sharedimages/mozdev-icon.png" rel="icon" type="image/png">
    

    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="Bugzilla@Mozdev" href="https://quickfolders.org/bugzilla/bugs/search_plugin.cgi">
                                          
  </head>



  <body onload=""
        class="www-mozdev-org-bugs bz_bug bz_status_NEW bz_component_General bz_bug_26342">




<div id="header">
<div id="banner">
  </div>

<div id="mozdev-logolet">
<table border="0" cellspacing="0" cellpadding="0" id="titles">
<tr>
    <td id="title">
      <p>Bugzilla@Mozdev &ndash; Bug&nbsp;26342</p>
    </td>

    <td id="subtitle">
      <p class="subheader">Upper-Case Names are Returned as Proper Case in SmartTemplate4 Reply Headers</p>
    </td>

    <td id="information">
      <p class="header_addl_info">Last modified: 2017-02-16 12:31:16</p>
    </td>
</tr>
</table>
</div>

<ul class="links">
  <li><a href="https://quickfolders.org/bugzilla/bugs/">Home</a></li>
  <li><span class="separator">| </span><a href="https://quickfolders.org/bugzilla/bugs/enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="https://quickfolders.org/bugzilla/bugs/query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="https://quickfolders.org/bugzilla/bugs/buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input class="txt" type="text" name="quicksearch">
    <input class="btn" type="submit" value="Find" id="find_top"></form></li>

  <li><span class="separator">| </span><a href="https://quickfolders.org/bugzilla/bugs/report.cgi">Reports</a></li>

  <li>
    <span class="separator">| </span>
      <a href="https://quickfolders.org/bugzilla/bugs/request.cgi">Requests</a></li>


      <li><span class="separator">| </span><a href="https://quickfolders.org/bugzilla/bugs/createaccount.cgi">New&nbsp;Account</a></li>
      



      

        
      <li><span class="separator">| </span><a href="https://quickfolders.org/bugzilla/bugs/show_bug.cgi?id=26342&amp;GoAheadAndLogIn=1">Log&nbsp;In</a></li>
</ul>

</div>

<div id="bugzilla-body">

<i><font color="#777777">First</font></i>
  <i><font color="#777777">Last</font></i>
  <i><font color="#777777">Prev</font></i>
  <i><font color="#777777">Next</font></i>
  &nbsp;&nbsp;
  <i><font color="#777777">No search results available</font></i>

<hr>
<script type="text/javascript">
  <!--

  /* Outputs a link to call replyToComment(); used to reduce HTML output */
  function addReplyLink(id) {
      /* XXX this should really be updated to use the DOM Core's
       * createElement, but finding a container isn't trivial.
       */
      document.write('[<a href="#add_comment" onclick="replyToComment(' + 
                     id + ');">reply<' + '/a>]');
  }

  /* Adds the reply text to the `comment' textarea */
  function replyToComment(id) {
      /* pre id="comment_name_N" */
      var text_elem = document.getElementById('comment_text_'+id);
      var text = getText(text_elem);

      /* make sure we split on all newlines -- IE or Moz use \r and \n
       * respectively.
       */
      text = text.split(/\r|\n/);

      var replytext = "";
      for (var i=0; i < text.length; i++) {
          replytext += "> " + text[i] + "\n"; 
      }

      replytext = "(In reply to comment #" + id + ")\n" + replytext + "\n";


      /* <textarea id="comment"> */
      var textarea = document.getElementById('comment');
      textarea.value += replytext;

      textarea.focus();
  }

  if (typeof Node == 'undefined') {
      /* MSIE doesn't define Node, so provide a compatibility object */
      window.Node = {
          TEXT_NODE: 3,
          ENTITY_REFERENCE_NODE: 5
      };
  }

  /* Concatenates all text from element's childNodes. This is used
   * instead of innerHTML because we want the actual text (and
   * innerText is non-standard).
   */
  function getText(element) {
      var child, text = "";
      for (var i=0; i < element.childNodes.length; i++) {
          child = element.childNodes[i];
          var type = child.nodeType;
          if (type == Node.TEXT_NODE || type == Node.ENTITY_REFERENCE_NODE) {
              text += child.nodeValue;
          } else {
              /* recurse into nodes of other types */
              text += getText(child);
          }
      }
      return text;
  }


  function updateCommentTagControl(checkbox, form) {
      if (checkbox.checked) {
          form.comment.className='bz_private';
      } else {
          form.comment.className='';
      }
  }

  //-->
  </script>

<form name="changeform" method="post" action="https://quickfolders.org/bugzilla/bugs/process_bug.cgi">

  <input type="hidden" name="delta_ts" value="2017-02-16 12:31:16">
  <input type="hidden" name="longdesclength" value="8">
  <input type="hidden" name="id" value="26342">

  
  <table>
    <tr>
      <td valign="top">
        <fieldset>
          <legend>Details</legend>
          <table>

            
            <tr>
              <td align="right">
                <label for="short_desc" accesskey="s"><b><u>S</u>ummary</b></label>:
              </td><td colspan="2">
       <input type="hidden" name="short_desc" id="short_desc"
              value="Upper-Case Names are Returned as Proper Case in SmartTemplate4 Reply Headers">
        <span title="Upper-Case Names are Returned as Proper Case in SmartTemplate4 Reply Headers">Upper-Case Names are Returned as Proper Case in SmartTemp...
        </span>
  </td>
            </tr>

            <tr>
              <td colspan="3">
                <table>
                  <tr>
                    
                    <td valign="top"><table cellspacing="1" cellpadding="1">
    <tr>
      <td align="right">
        <b>Bug#</b>:
      </td>
      <td>
        <a href="show_bug.cgi@id=26342.html">26342</a>
      </td>
    </tr>


    <tr>
      <td align="right">
        <label for="product" accesskey="p"><b><u>P</u>roduct</b></label>:
      </td><td>
      <input type="hidden" id="product" name="product" value="smarttemplate4">smarttemplate4
  </td>
    </tr>

    <tr>
      <td align="right">
        <label for="component" accesskey="m"><b><a href="https://quickfolders.org/bugzilla/bugs/describecomponents.cgi?product=smarttemplate4">Co<u>m</u>ponent</a></b></label>:
      </td><td>
      <input type="hidden" id="component" name="component" value="General">General
  </td>
    </tr>

    <tr>
      <td align="right">
        <b><a href="https://quickfolders.org/bugzilla/bugs/page.cgi?id=fields.html#status">Status</a></b>:
      </td>
      <td>NEW</td>
    </tr>

    <tr>
      <td align="right">
        <b><a href="https://quickfolders.org/bugzilla/bugs/page.cgi?id=fields.html#resolution">Resolution</a></b>:
      </td>
      <td>
      </td>
    </tr>
  </table></td>

                    
                    <td valign="top"><table cellspacing="1" cellpadding="1">
    <tr>
      <td align="right">
        <label for="rep_platform" accesskey="h"><b><u>H</u>ardware</b></label>:
      </td><td>
      <input type="hidden" id="rep_platform" name="rep_platform" value="Macintosh">Macintosh
  </td>
    </tr>

    <tr>
      <td align="right">
        <label for="op_sys" accesskey="o"><b><u>O</u>S</b></label>:
      </td><td>
      <input type="hidden" id="op_sys" name="op_sys" value="Mac OS X 10.4">Mac OS X 10.4
  </td>
    </tr>

    <tr>
      <td align="right">
        <label for="version"><b>Version</b></label>:
      </td><td>
      <input type="hidden" id="version" name="version" value="unspecified">unspecified
  </td>
    </tr>

    <tr>
      <td align="right">
        <label for="priority" accesskey="i"><b><a href="https://quickfolders.org/bugzilla/bugs/page.cgi?id=fields.html#priority">Pr<u>i</u>ority</a></b></label>:
      </td><td>
      <input type="hidden" id="priority" name="priority" value="P2">P2
  </td>
    </tr>

    <tr>
      <td align="right">
        <label for="bug_severity"><b><a href="https://quickfolders.org/bugzilla/bugs/page.cgi?id=fields.html#bug_severity">Severity</a></b></label>:
      </td><td>
      <input type="hidden" id="bug_severity" name="bug_severity" value="normal">normal
  </td>
    </tr>

      <tr>
        <td align="right">
          <label for="target_milestone"><b>
            Target Milestone</b></label>:
        </td><td>
      <input type="hidden" id="target_milestone" name="target_milestone" value="---">---
  </td>
      </tr>
  </table></td>
                  </tr>
                </table>
              </td>
            </tr>

            <tr>
              <td colspan="3"><hr size="1"></td>
            </tr>

            

            <tr>
              <td align="right">
                <label for="bug_file_loc" accesskey="u"><b>
                    <u>U</u>RL</b></label>:
              </td><td colspan="2">
       <input type="hidden" name="bug_file_loc" id="bug_file_loc"
              value="">
  </td>
            </tr>

              <tr>
                <td align="right">
                  <label for="status_whiteboard" accesskey="w"><b><u>W</u>hiteboard</b></label>:
                </td><td colspan="2">
       <input type="hidden" name="status_whiteboard" id="status_whiteboard"
              value="">
  </td>
              </tr>

              <tr>
                <td align="right">
                  <label for="keywords" accesskey="k">
                    <b><a href="https://quickfolders.org/bugzilla/bugs/describekeywords.cgi"><u>K</u>eywords</a></b></label>:
                </td><td colspan="2">
       <input type="hidden" name="keywords" id="keywords"
              value="">
  </td>
              </tr>

            


            

            <tr><th align="right">
    <label for="dependson">Depends&nbsp;on</label>:
  </th>
  <td>
  </td>
  <td>
      <input type="hidden" id="dependson" name="dependson"
             value="">
  </td>
            </tr>

            <tr><th align="right">
    <label for="blocked" accesskey="b"><u>B</u>locks</label>:
  </th>
  <td>
  </td>
  <td>
      <input type="hidden" id="blocked" name="blocked"
             value="">
  </td>
            </tr>

            <tr>
              <th>&nbsp;</th>

              <td colspan="2">
                <a href="https://quickfolders.org/bugzilla/bugs/showdependencytree.cgi?id=26342&amp;hide_resolved=1">Show
                   dependency tree</a>

                  - <a href="https://quickfolders.org/bugzilla/bugs/showdependencygraph.cgi?id=26342">Show
                       dependency graph</a>
              </td>
            </tr>
          </table>
        </fieldset>
      </td>

      
      <script type="text/javascript">
        <!--
        var v = document.body.offsetHeight;
        //-->
      </script>

      <td valign="top">
        
        <fieldset>
          <legend>People</legend><table cellpadding="1" cellspacing="1">
    <tr>
      <td align="right">
        <b>Reporter</b>:
      </td>
      <td>
        <a href="mailto:a.fontana&#64;ymail.com">Alessandro &lt;a.fontana&#64;ymail.com&gt;</a>
      </td>
    </tr>

    <tr>
      <td align="right">
        <b><a href="https://quickfolders.org/bugzilla/bugs/page.cgi?id=fields.html#assigned_to">Assigned&nbsp;To</a></b>:
      </td>
      <td>
        <a href="mailto:axel.grude&#64;gmail.com">Axel Grude &lt;axel.grude&#64;gmail.com&gt;</a>
      </td>
    </tr>



    <tr>
        <td colspan="2"><input type="hidden" name="cc" value=""></td>
    </tr>
  </table>
        </fieldset>

        
      </td>
    </tr>
  </table>



<script type="text/javascript">
  <!--
  function toggle_display(link) {
    var table = document.getElementById("attachment_table");
    var rows = table.getElementsByTagName("tr");
    var originalHeight = table.offsetHeight; // Store current height for scrolling

    var toggle;
    if (link.innerHTML == "Show Obsolete") {
      toggle = ""; // This should be 'table-row', but IE 6 doesn't understand it.
      link.innerHTML = "Hide Obsolete";
    }
    else {
      toggle = "none";
      link.innerHTML = "Show Obsolete";
    }

    for (var i = 0; i < rows.length; i++) {
      if (rows[i].className.match('bz_tr_obsolete'))
        rows[i].style.display = toggle;
    }

    var newHeight = table.offsetHeight;
    window.scrollBy(0, newHeight - originalHeight);

    return false;
  }
  //-->
</script>

<br>
<table id="attachment_table" cellspacing="0" cellpadding="4">
  <tr>
    <th colspan="3" align="left">
      <a name="a0" id="a0">Attachments</a>
    </th>
  </tr>


      <tr class="
                 ">
        <td valign="top">
            <a name="a1" href="Advanced-Naming-Options.png"
               title="View the content of the attachment">
          <b>Name Rules Option</b></a>

          <span class="bz_attach_extra_info">
              (64.89 KB,
                image/png)

            <br>
            <a href="show_bug.cgi@id=26342.html#attach_8266"
               title="Go to the comment associated with the attachment">2017-02-16 01:35</a>,

            <a href="mailto:axel.grude&#64;gmail.com"
               title="Write an email to the creator of the attachment">Axel Grude
            </a>
          </span>
        </td>

          <td class="bz_attach_flags" valign="top">
              <i>no flags</i>
          </td>

        <td valign="top">
          <a href="https://quickfolders.org/bugzilla/bugs/attachment.cgi?id=8266&amp;action=edit">Details</a>
        </td>
      </tr>

  <tr class="bz_attach_footer">
    <td colspan="3">
        <span class="bz_attach_view_hide">
        </span>
      <a href="https://quickfolders.org/bugzilla/bugs/attachment.cgi?bugid=26342&amp;action=enter">Add an attachment</a>
      (proposed patch, testcase, etc.)
    </td>
  </tr>
</table>
<br>




  <br>
  <table cellpadding="1" cellspacing="1">
    <tr>
      <td>
          <fieldset>
            <legend>Note</legend>
            <p>
              You need to
              <a href="https://quickfolders.org/bugzilla/bugs/show_bug.cgi?id=26342&amp;GoAheadAndLogIn=1">log in</a>
              before you can comment on or make changes to this bug.
            </p>
          </fieldset>
      </td>

      <td valign="top">
        <fieldset>
          <legend>Related actions</legend>
          <ul>
            <li><a href="https://quickfolders.org/bugzilla/bugs/show_activity.cgi?id=26342">View Bug Activity</a></li>
            <li><a href="https://quickfolders.org/bugzilla/bugs/show_bug.cgi?format=multiple&amp;id=26342">Format For Printing</a></li>
            <li><a href="https://quickfolders.org/bugzilla/bugs/show_bug.cgi?ctype=xml&amp;id=26342">XML</a></li>
            <li><a href="https://quickfolders.org/bugzilla/bugs/enter_bug.cgi?cloned_bug_id=26342">Clone This Bug</a></li>
          </ul>


          
        </fieldset>
      </td>
    </tr>
  </table>
  <br>





<hr>

<div id="comments"><script type="text/javascript">
  <!--
  function updateCommentPrivacy(checkbox, id) {
    var comment_elem = document.getElementById('comment_text_'+id).parentNode;
    if (checkbox.checked) {
      if (!comment_elem.className.match('bz_private')) {
        comment_elem.className = comment_elem.className.concat(' bz_private');
      }
    }
    else {
      comment_elem.className =
        comment_elem.className.replace(/(\s*|^)bz_private(\s*|$)/, '$2');
    }
  }
  //-->
  </script>








<div class="bz_comment">
        <table>
          <tr>
            <th align="left">
              <b><a name="c0" href="show_bug.cgi@id=26342.html#c0">
                Description</a>:</b>&nbsp;&nbsp;
            </th>
            <td align="left" width="30%">
              <b>Opened:</b> 2017-02-15 13:54
            </td>
          </tr>
        </table>
        


<pre class="bz_comment_text" >When using the option &quot;%to(name,bracketMail())%&quot;, upper-case names become
proper case in the reply headers.

Thus, &quot;AT&amp;T Online Services &lt;<a href="mailto:att-services.cn.279583149@emaildl.att-mail.com">att-services.cn.279583149@emaildl.att-mail.com</a>&gt;&quot;
becomes &quot;At&amp;t Online Services
&lt;<a href="mailto:att-services.cn.279583149@emaildl.att-mail.com">att-services.cn.279583149@emaildl.att-mail.com</a>&gt;&quot;. I have found this to be true
for all upper-case names. 

This is a bug in all fields where the &quot;(name,bracketMail()&quot; option is
activated.
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c1" href="show_bug.cgi@id=26342.html#c1">
            #1</a> From 
          <a href="mailto:axel.grude&#64;gmail.com">Axel Grude</a>
          2017-02-15 14:55:59 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi@id=26342.html#c0">comment #0</a>)
<span class="quote">&gt; When using the option &quot;%to(name,bracketMail())%&quot;, upper-case names become
&gt; proper case in the reply headers.
&gt; 
&gt; Thus, &quot;AT&amp;T Online Services &lt;<a href="mailto:att-services.cn.279583149@emaildl.att-mail.com">att-services.cn.279583149@emaildl.att-mail.com</a>&gt;&quot;
&gt; becomes &quot;At&amp;t Online Services
&gt; &lt;<a href="mailto:att-services.cn.279583149@emaildl.att-mail.com">att-services.cn.279583149@emaildl.att-mail.com</a>&gt;&quot;. I have found this to be true
&gt; for all upper-case names. 
&gt; 
&gt; This is a bug in all fields where the &quot;(name,bracketMail()&quot; option is
&gt; activated.
&gt; </span >

What happens if you switch off the option
Advanced Settings &gt; Names Rules &gt; Capitalize Names

this should leave any Capitalization alone. I am trying to make the names more
readable (which is especially importan if we use 

&quot;dear %from(name)%&quot; 

in case somebody sends out from an email set up as JOHN SMITH &lt;<a href="mailto:js@gmail.com">js@gmail.com</a>&gt;

this will be corrected to 

dear John Smith

It is not trivial fot the algorithm to distinguish between Acronyms,
Initialisms and full on Uppercase spellings of real names. I am sure it can be
improved, but I am not quite sure how. At the moment, it gets it right in 95%
of the cases.
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c2" href="show_bug.cgi@id=26342.html#c2">
            #2</a> From 
          <a href="mailto:a.fontana&#64;ymail.com">Alessandro</a>
          2017-02-15 15:10:18 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi@id=26342.html#c1">comment #1</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi@id=26342.html#c0">comment #0</a>)
&gt; &gt; When using the option &quot;%to(name,bracketMail())%&quot;, upper-case names become
&gt; &gt; proper case in the reply headers.
&gt; &gt; 
&gt; &gt; Thus, &quot;AT&amp;T Online Services &lt;<a href="mailto:att-services.cn.279583149@emaildl.att-mail.com">att-services.cn.279583149@emaildl.att-mail.com</a>&gt;&quot;
&gt; &gt; becomes &quot;At&amp;t Online Services
&gt; &gt; &lt;<a href="mailto:att-services.cn.279583149@emaildl.att-mail.com">att-services.cn.279583149@emaildl.att-mail.com</a>&gt;&quot;. I have found this to be true
&gt; &gt; for all upper-case names. 
&gt; &gt; 
&gt; &gt; This is a bug in all fields where the &quot;(name,bracketMail()&quot; option is
&gt; &gt; activated.
&gt; &gt; 
&gt; 
&gt; What happens if you switch off the option
&gt; Advanced Settings &gt; Names Rules &gt; Capitalize Names
&gt; 
&gt; this should leave any Capitalization alone. I am trying to make the names more
&gt; readable (which is especially importan if we use 
&gt; 
&gt; &quot;dear %from(name)%&quot; 
&gt; 
&gt; in case somebody sends out from an email set up as JOHN SMITH &lt;<a href="mailto:js@gmail.com">js@gmail.com</a>&gt;
&gt; 
&gt; this will be corrected to 
&gt; 
&gt; dear John Smith
&gt; 
&gt; It is not trivial fot the algorithm to distinguish between Acronyms,
&gt; Initialisms and full on Uppercase spellings of real names. I am sure it can be
&gt; improved, but I am not quite sure how. At the moment, it gets it right in 95%
&gt; of the cases.
&gt; </span >

Apologies; but where is the &quot;Advanced Settings &gt; Names Rules &gt; Capitalize
Names&quot; preference? Is this a SmartTemplate4 option or a global Thunderbird
option?
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c3" href="show_bug.cgi@id=26342.html#c3">
            #3</a> From 
          <a href="mailto:axel.grude&#64;gmail.com">Axel Grude</a>
          2017-02-16 01:35:56 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" ><span class=""><a href="Advanced-Naming-Options.png" name="attach_8266" title="Name Rules Option">Created an attachment (id=8266)</a> <a href="https://quickfolders.org/bugzilla/bugs/attachment.cgi?id=8266&amp;action=edit" title="Name Rules Option">[details]</a></span>
Name Rules Option

(1) On the top right of the SmartTemplate dialog there is an [Advanced] button
which opens up a panel with global options and an online documentation of all
header variables. 

(2) The third tab has &quot;Advanced Settings&quot; including the Naming Rules (3). You
can also  tell SmartTemplate4 to pull names from the Address book (if the mail
address matches).

Another reason for the Capitalize Names Rule is that ST4 will attempt to guess
the name from an eemail address, e.g.

<a href="mailto:florence.EMMA.nightingale@gmail.com">florence.EMMA.nightingale@gmail.com</a>

name = Florence Emma Nightingale
lastname = Nightingale
firstname = Florence Emma

Of course this only a guess and may need some manual correction. Therefore the
name resolution from address book may be a good solution for people you email
regularly.
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c4" href="show_bug.cgi@id=26342.html#c4">
            #4</a> From 
          <a href="mailto:a.fontana&#64;ymail.com">Alessandro</a>
          2017-02-16 11:26:38 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi@id=26342.html#c3">comment #3</a>)
<span class="quote">&gt; Created an <span class=""><a href="Advanced-Naming-Options.png" name="attach_8266" title="Name Rules Option">attachment (id=8266)</a> <a href="https://quickfolders.org/bugzilla/bugs/attachment.cgi?id=8266&amp;action=edit" title="Name Rules Option">[details]</a></span> [details]
&gt; Name Rules Option
&gt; 
&gt; (1) On the top right of the SmartTemplate dialog there is an [Advanced] button
&gt; which opens up a panel with global options and an online documentation of all
&gt; header variables. 
&gt; 
&gt; (2) The third tab has &quot;Advanced Settings&quot; including the Naming Rules (3). You
&gt; can also  tell SmartTemplate4 to pull names from the Address book (if the mail
&gt; address matches).
&gt; 
&gt; Another reason for the Capitalize Names Rule is that ST4 will attempt to guess
&gt; the name from an eemail address, e.g.
&gt; 
&gt; <a href="mailto:florence.EMMA.nightingale@gmail.com">florence.EMMA.nightingale@gmail.com</a>
&gt; 
&gt; name = Florence Emma Nightingale
&gt; lastname = Nightingale
&gt; firstname = Florence Emma
&gt; 
&gt; Of course this only a guess and may need some manual correction. Therefore the
&gt; name resolution from address book may be a good solution for people you email
&gt; regularly.
&gt; </span >
Unchecking the &quot;Capitalize Names&quot; did indeed resolve the capitalization problem
in the &quot;From&quot; header with the &quot;%to(name,bracketMail())%&quot; option.

However, as an unintended by-product, it also removes capitalization from the
&quot;To&quot; header when the e-mail was originally sent only to an e-mail address (no
name) and SmartTemplate4 tries to extract a name from the left-hand side of the
e-mail address.
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c5" href="show_bug.cgi@id=26342.html#c5">
            #5</a> From 
          <a href="mailto:axel.grude&#64;gmail.com">Axel Grude</a>
          2017-02-16 11:32:21 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi@id=26342.html#c4">comment #4</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi@id=26342.html#c3">comment #3</a>)
&gt; &gt; 
&gt; Unchecking the &quot;Capitalize Names&quot; did indeed resolve the capitalization problem
&gt; in the &quot;From&quot; header with the &quot;%to(name,bracketMail())%&quot; option.
&gt; 
&gt; However, as an unintended by-product, it also removes capitalization from the
&gt; &quot;To&quot; header when the e-mail was originally sent only to an e-mail address (no
&gt; name) and SmartTemplate4 tries to extract a name from the left-hand side of the
&gt; e-mail address.
&gt; </span >
Yes, I that behavior is intended, I don't really want separate options here
because it will be too confusing for the users. If you have any ideas on how
the actual &quot;Capital Letters&quot; algorithm could be improved I am open to your
suggestions.

If I encounter an ALL-CAPS word I do not want to leave it unchanged in case it
was a name, but maybe there are programmable exceptions... it is a little
difficult using regular expressions.
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c6" href="show_bug.cgi@id=26342.html#c6">
            #6</a> From 
          <a href="mailto:a.fontana&#64;ymail.com">Alessandro</a>
          2017-02-16 11:35:59 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi@id=26342.html#c5">comment #5</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi@id=26342.html#c4">comment #4</a>)
&gt; &gt; (In reply to <a href="show_bug.cgi@id=26342.html#c3">comment #3</a>)
&gt; &gt; &gt; 
&gt; &gt; Unchecking the &quot;Capitalize Names&quot; did indeed resolve the capitalization problem
&gt; &gt; in the &quot;From&quot; header with the &quot;%to(name,bracketMail())%&quot; option.
&gt; &gt; 
&gt; &gt; However, as an unintended by-product, it also removes capitalization from the
&gt; &gt; &quot;To&quot; header when the e-mail was originally sent only to an e-mail address (no
&gt; &gt; name) and SmartTemplate4 tries to extract a name from the left-hand side of the
&gt; &gt; e-mail address.
&gt; &gt; 
&gt; Yes, I that behavior is intended, I don't really want separate options here
&gt; because it will be too confusing for the users. If you have any ideas on how
&gt; the actual &quot;Capital Letters&quot; algorithm could be improved I am open to your
&gt; suggestions.
&gt; 
&gt; If I encounter an ALL-CAPS word I do not want to leave it unchanged in case it
&gt; was a name, but maybe there are programmable exceptions... it is a little
&gt; difficult using regular expressions.
&gt; </span >
From my point of view, the best resolution would be if enhancement no. 36240
makes it into the next stable build of ST4 ;-)
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c7" href="show_bug.cgi@id=26342.html#c7">
            #7</a> From 
          <a href="mailto:axel.grude&#64;gmail.com">Axel Grude</a>
          2017-02-16 12:31:16 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi@id=26342.html#c6">comment #6</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi@id=26342.html#c5">comment #5</a>)</span >
....
<span class="quote">&gt; From my point of view, the best resolution would be if enhancement no. 36240
&gt; makes it into the next stable build of ST4 ;-)
&gt; </span >
Yes, that's already included in  the release notes:
<a href="http://smarttemplate4.mozdev.org/version.html#1.5">http://smarttemplate4.mozdev.org/version.html#1.5</a>
</pre>
    </div>
</div>

</form>

<hr>
<i><font color="#777777">First</font></i>
  <i><font color="#777777">Last</font></i>
  <i><font color="#777777">Prev</font></i>
  <i><font color="#777777">Next</font></i>
  &nbsp;&nbsp;
  <i><font color="#777777">No search results available</font></i>

<br>
</div>



<div id="footer">
  <div class="intro"></div>




<ul id="useful-links">
  <li id="links-actions">
    <div class="label">Actions: </div><ul class="links">
  <li><a href="https://quickfolders.org/bugzilla/bugs/">Home</a></li>
  <li><span class="separator">| </span><a href="https://quickfolders.org/bugzilla/bugs/enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="https://quickfolders.org/bugzilla/bugs/query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="https://quickfolders.org/bugzilla/bugs/buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input class="txt" type="text" name="quicksearch">
    <input class="btn" type="submit" value="Find" id="find_bottom"></form></li>

  <li><span class="separator">| </span><a href="https://quickfolders.org/bugzilla/bugs/report.cgi">Reports</a></li>

  <li>
    <span class="separator">| </span>
      <a href="https://quickfolders.org/bugzilla/bugs/request.cgi">Requests</a></li>


      <li><span class="separator">| </span><a href="https://quickfolders.org/bugzilla/bugs/createaccount.cgi">New&nbsp;Account</a></li>
      



      

        
      <li><span class="separator">| </span><a href="https://quickfolders.org/bugzilla/bugs/show_bug.cgi?id=26342&amp;GoAheadAndLogIn=1">Log&nbsp;In</a></li>
</ul>
  </li>

  
    
    
    

  


  
</ul>

  <div class="outro"></div>
</div>

</body>
</html>