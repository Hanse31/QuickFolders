<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/html4/loose.dtd">
<html>
  <head>
    <meta name="robots" content="noindex,noarchive,nofollow">
    <title>Bug 25103 &ndash; 0.9.1 inserts unwanted line break int top of &lt;body&gt; in html mode</title>


<link rel="Top" href="https://quickfolders.org/bugzilla/bugs/">

  

  


  
    <link rel="Show" title="Dependency Tree"
          href="https://quickfolders.org/bugzilla/bugs/showdependencytree.cgi?id=25103&amp;hide_resolved=1">
      <link rel="Show" title="Dependency Graph"
            href="https://quickfolders.org/bugzilla/bugs/showdependencygraph.cgi?id=25103">


      <link rel="Show" title="Bug Activity"
            href="https://quickfolders.org/bugzilla/bugs/show_activity.cgi?id=25103">
      <link rel="Show" title="Printer-Friendly Version"
            href="https://quickfolders.org/bugzilla/bugs/show_bug.cgi?format=multiple&amp;id=25103">


    

    <script type="text/javascript">
  <!--
  
  function initHelp() {}
  // -->
  </script>

    

    
      <link href="skins/standard/global.css"
            rel="stylesheet"
            type="text/css">
    <!--[if IE]>
      
      <link href="skins/standard/IE-fixes.css"
            rel="stylesheet"
            type="text/css">
    <![endif]-->

    
        <link href="skins/standard/global.css"
              rel="stylesheet"
              title="Classic"
              type="text/css">
      <!--[if IE]>
        
        <link href="skins/standard/IE-fixes.css"
              rel="stylesheet"
              title="Classic"
              type="text/css">
      <![endif]-->

    

    

    
        <link href="skins/custom/global.css" rel="stylesheet" type="text/css">
    <!--[if IE]>
      
      <link href="skins/custom/IE-fixes.css"
            rel="stylesheet"
            type="text/css">
    <![endif]-->

    <link href="https://www.mozdev.org/sharedimages/mozdev-icon.png" rel="icon" type="image/png">
    

    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="Bugzilla@Mozdev" href="https://quickfolders.org/bugzilla/bugs/search_plugin.cgi">
                                          
  </head>



  <body onload=""
        class="www-mozdev-org-bugs bz_bug bz_status_RESOLVED bz_component_General bz_bug_25103">




<div id="header">
<div id="banner">
  </div>

<div id="mozdev-logolet">
<table border="0" cellspacing="0" cellpadding="0" id="titles">
<tr>
    <td id="title">
      <p>Bugzilla@Mozdev &ndash; Bug&nbsp;25103</p>
    </td>

    <td id="subtitle">
      <p class="subheader">0.9.1 inserts unwanted line break int top of &lt;body&gt; in html mode</p>
    </td>

    <td id="information">
      <p class="header_addl_info">Last modified: 2012-09-21 04:33:59</p>
    </td>
</tr>
</table>
</div>

<ul class="links">
  <li><a href="https://quickfolders.org/bugzilla/bugs/">Home</a></li>
  <li><span class="separator">| </span><a href="https://quickfolders.org/bugzilla/bugs/enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="https://quickfolders.org/bugzilla/bugs/query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="https://quickfolders.org/bugzilla/bugs/buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input class="txt" type="text" name="quicksearch">
    <input class="btn" type="submit" value="Find" id="find_top"></form></li>

  <li><span class="separator">| </span><a href="https://quickfolders.org/bugzilla/bugs/report.cgi">Reports</a></li>

  <li>
    <span class="separator">| </span>
      <a href="https://quickfolders.org/bugzilla/bugs/request.cgi">Requests</a></li>


      <li><span class="separator">| </span><a href="https://quickfolders.org/bugzilla/bugs/createaccount.cgi">New&nbsp;Account</a></li>
      



      

        
      <li><span class="separator">| </span><a href="https://quickfolders.org/bugzilla/bugs/show_bug.cgi?id=25103&amp;GoAheadAndLogIn=1">Log&nbsp;In</a></li>
</ul>

</div>

<div id="bugzilla-body">

<i><font color="#777777">First</font></i>
  <i><font color="#777777">Last</font></i>
  <i><font color="#777777">Prev</font></i>
  <i><font color="#777777">Next</font></i>
  &nbsp;&nbsp;
  <i><font color="#777777">No search results available</font></i>

<hr>
<script type="text/javascript">
  <!--

  /* Outputs a link to call replyToComment(); used to reduce HTML output */
  function addReplyLink(id) {
      /* XXX this should really be updated to use the DOM Core's
       * createElement, but finding a container isn't trivial.
       */
      document.write('[<a href="#add_comment" onclick="replyToComment(' + 
                     id + ');">reply<' + '/a>]');
  }

  /* Adds the reply text to the `comment' textarea */
  function replyToComment(id) {
      /* pre id="comment_name_N" */
      var text_elem = document.getElementById('comment_text_'+id);
      var text = getText(text_elem);

      /* make sure we split on all newlines -- IE or Moz use \r and \n
       * respectively.
       */
      text = text.split(/\r|\n/);

      var replytext = "";
      for (var i=0; i < text.length; i++) {
          replytext += "> " + text[i] + "\n"; 
      }

      replytext = "(In reply to comment #" + id + ")\n" + replytext + "\n";


      /* <textarea id="comment"> */
      var textarea = document.getElementById('comment');
      textarea.value += replytext;

      textarea.focus();
  }

  if (typeof Node == 'undefined') {
      /* MSIE doesn't define Node, so provide a compatibility object */
      window.Node = {
          TEXT_NODE: 3,
          ENTITY_REFERENCE_NODE: 5
      };
  }

  /* Concatenates all text from element's childNodes. This is used
   * instead of innerHTML because we want the actual text (and
   * innerText is non-standard).
   */
  function getText(element) {
      var child, text = "";
      for (var i=0; i < element.childNodes.length; i++) {
          child = element.childNodes[i];
          var type = child.nodeType;
          if (type == Node.TEXT_NODE || type == Node.ENTITY_REFERENCE_NODE) {
              text += child.nodeValue;
          } else {
              /* recurse into nodes of other types */
              text += getText(child);
          }
      }
      return text;
  }


  function updateCommentTagControl(checkbox, form) {
      if (checkbox.checked) {
          form.comment.className='bz_private';
      } else {
          form.comment.className='';
      }
  }

  //-->
  </script>

<form name="changeform" method="post" action="https://quickfolders.org/bugzilla/bugs/process_bug.cgi">

  <input type="hidden" name="delta_ts" value="2012-09-21 04:33:59">
  <input type="hidden" name="longdesclength" value="15">
  <input type="hidden" name="id" value="25103">

  
  <table>
    <tr>
      <td valign="top">
        <fieldset>
          <legend>Details</legend>
          <table>

            
            <tr>
              <td align="right">
                <label for="short_desc" accesskey="s"><b><u>S</u>ummary</b></label>:
              </td><td colspan="2">
       <input type="hidden" name="short_desc" id="short_desc"
              value="0.9.1 inserts unwanted line break int top of &lt;body&gt; in html mode">
        <span title="0.9.1 inserts unwanted line break int top of &lt;body&gt; in html mode">0.9.1 inserts unwanted line break int top of &lt;body&gt; in ht...
        </span>
  </td>
            </tr>

            <tr>
              <td colspan="3">
                <table>
                  <tr>
                    
                    <td valign="top"><table cellspacing="1" cellpadding="1">
    <tr>
      <td align="right">
        <b>Bug#</b>:
      </td>
      <td>
        <a href="show_bug.cgi@id=25103.html">25103</a>
      </td>
    </tr>


    <tr>
      <td align="right">
        <label for="product" accesskey="p"><b><u>P</u>roduct</b></label>:
      </td><td>
      <input type="hidden" id="product" name="product" value="smarttemplate4">smarttemplate4
  </td>
    </tr>

    <tr>
      <td align="right">
        <label for="component" accesskey="m"><b><a href="https://quickfolders.org/bugzilla/bugs/describecomponents.cgi?product=smarttemplate4">Co<u>m</u>ponent</a></b></label>:
      </td><td>
      <input type="hidden" id="component" name="component" value="General">General
  </td>
    </tr>

    <tr>
      <td align="right">
        <b><a href="https://quickfolders.org/bugzilla/bugs/page.cgi?id=fields.html#status">Status</a></b>:
      </td>
      <td>RESOLVED</td>
    </tr>

    <tr>
      <td align="right">
        <b><a href="https://quickfolders.org/bugzilla/bugs/page.cgi?id=fields.html#resolution">Resolution</a></b>:
      </td>
      <td>FIXED
      </td>
    </tr>
  </table></td>

                    
                    <td valign="top"><table cellspacing="1" cellpadding="1">
    <tr>
      <td align="right">
        <label for="rep_platform" accesskey="h"><b><u>H</u>ardware</b></label>:
      </td><td>
      <input type="hidden" id="rep_platform" name="rep_platform" value="PC">PC
  </td>
    </tr>

    <tr>
      <td align="right">
        <label for="op_sys" accesskey="o"><b><u>O</u>S</b></label>:
      </td><td>
      <input type="hidden" id="op_sys" name="op_sys" value="Windows NT">Windows NT
  </td>
    </tr>

    <tr>
      <td align="right">
        <label for="version"><b>Version</b></label>:
      </td><td>
      <input type="hidden" id="version" name="version" value="unspecified">unspecified
  </td>
    </tr>

    <tr>
      <td align="right">
        <label for="priority" accesskey="i"><b><a href="https://quickfolders.org/bugzilla/bugs/page.cgi?id=fields.html#priority">Pr<u>i</u>ority</a></b></label>:
      </td><td>
      <input type="hidden" id="priority" name="priority" value="P2">P2
  </td>
    </tr>

    <tr>
      <td align="right">
        <label for="bug_severity"><b><a href="https://quickfolders.org/bugzilla/bugs/page.cgi?id=fields.html#bug_severity">Severity</a></b></label>:
      </td><td>
      <input type="hidden" id="bug_severity" name="bug_severity" value="normal">normal
  </td>
    </tr>

      <tr>
        <td align="right">
          <label for="target_milestone"><b>
            Target Milestone</b></label>:
        </td><td>
      <input type="hidden" id="target_milestone" name="target_milestone" value="---">---
  </td>
      </tr>
  </table></td>
                  </tr>
                </table>
              </td>
            </tr>

            <tr>
              <td colspan="3"><hr size="1"></td>
            </tr>

            

            <tr>
              <td align="right">
                <label for="bug_file_loc" accesskey="u"><b>
                    <u>U</u>RL</b></label>:
              </td><td colspan="2">
       <input type="hidden" name="bug_file_loc" id="bug_file_loc"
              value="">
  </td>
            </tr>

              <tr>
                <td align="right">
                  <label for="status_whiteboard" accesskey="w"><b><u>W</u>hiteboard</b></label>:
                </td><td colspan="2">
       <input type="hidden" name="status_whiteboard" id="status_whiteboard"
              value="">
  </td>
              </tr>

              <tr>
                <td align="right">
                  <label for="keywords" accesskey="k">
                    <b><a href="https://quickfolders.org/bugzilla/bugs/describekeywords.cgi"><u>K</u>eywords</a></b></label>:
                </td><td colspan="2">
       <input type="hidden" name="keywords" id="keywords"
              value="">
  </td>
              </tr>

            


            

            <tr><th align="right">
    <label for="dependson">Depends&nbsp;on</label>:
  </th>
  <td>
  </td>
  <td>
      <input type="hidden" id="dependson" name="dependson"
             value="">
  </td>
            </tr>

            <tr><th align="right">
    <label for="blocked" accesskey="b"><u>B</u>locks</label>:
  </th>
  <td>
  </td>
  <td>
      <input type="hidden" id="blocked" name="blocked"
             value="">
  </td>
            </tr>

            <tr>
              <th>&nbsp;</th>

              <td colspan="2">
                <a href="https://quickfolders.org/bugzilla/bugs/showdependencytree.cgi?id=25103&amp;hide_resolved=1">Show
                   dependency tree</a>

                  - <a href="https://quickfolders.org/bugzilla/bugs/showdependencygraph.cgi?id=25103">Show
                       dependency graph</a>
              </td>
            </tr>
          </table>
        </fieldset>
      </td>

      
      <script type="text/javascript">
        <!--
        var v = document.body.offsetHeight;
        //-->
      </script>

      <td valign="top">
        
        <fieldset>
          <legend>People</legend><table cellpadding="1" cellspacing="1">
    <tr>
      <td align="right">
        <b>Reporter</b>:
      </td>
      <td>
        <a href="mailto:mw&#64;bingo-ev.de">mw&#64;bingo-ev.de</a>
      </td>
    </tr>

    <tr>
      <td align="right">
        <b><a href="https://quickfolders.org/bugzilla/bugs/page.cgi?id=fields.html#assigned_to">Assigned&nbsp;To</a></b>:
      </td>
      <td>
        <a href="mailto:axel.grude&#64;gmail.com">Axel Grude &lt;axel.grude&#64;gmail.com&gt;</a>
      </td>
    </tr>



    <tr>
        <td align="right" valign="top">
          <label for="cc"><b>CC</b></label>:
        </td>
        <td valign="top">
          <select id="cc" name="cc" multiple="multiple" size="5">
            <option value="ivanov-jr&#64;mail.ru">ivanov-jr&#64;mail.ru</option>
            <option value="marc&#64;tool8now.com">marc&#64;tool8now.com</option>
            <option value="mozdev&#64;lichtjager.nl">mozdev&#64;lichtjager.nl</option>
            <option value="smarttemplate4&#64;posteo.de">smarttemplate4&#64;posteo.de</option>
          </select>
        </td>
    </tr>
  </table>
        </fieldset>

        
      </td>
    </tr>
  </table>



<script type="text/javascript">
  <!--
  function toggle_display(link) {
    var table = document.getElementById("attachment_table");
    var rows = table.getElementsByTagName("tr");
    var originalHeight = table.offsetHeight; // Store current height for scrolling

    var toggle;
    if (link.innerHTML == "Show Obsolete") {
      toggle = ""; // This should be 'table-row', but IE 6 doesn't understand it.
      link.innerHTML = "Hide Obsolete";
    }
    else {
      toggle = "none";
      link.innerHTML = "Show Obsolete";
    }

    for (var i = 0; i < rows.length; i++) {
      if (rows[i].className.match('bz_tr_obsolete'))
        rows[i].style.display = toggle;
    }

    var newHeight = table.offsetHeight;
    window.scrollBy(0, newHeight - originalHeight);

    return false;
  }
  //-->
</script>

<br>
<table id="attachment_table" cellspacing="0" cellpadding="4">
  <tr>
    <th colspan="3" align="left">
      <a name="a0" id="a0">Attachments</a>
    </th>
  </tr>


      <tr class="
                 bz_tr_obsolete">
        <td valign="top">
            <a name="a1" href="smartTemplate-0.9.2pre24.xpi.3"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">configurable version</span></b></a>

          <span class="bz_attach_extra_info">
              (246.72 KB,
                application/x-xpinstall)

            <br>
            <a href="show_bug.cgi@id=25103.html#attach_7349"
               title="Go to the comment associated with the attachment">2012-08-23 05:31</a>,

            <a href="mailto:axel.grude&#64;gmail.com"
               title="Write an email to the creator of the attachment">Axel Grude
            </a>
          </span>
        </td>

          <td class="bz_attach_flags" valign="top">
              <i>no flags</i>
          </td>

        <td valign="top">
          <a href="https://quickfolders.org/bugzilla/bugs/attachment.cgi?id=7349&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr class="
                 ">
        <td valign="top">
            <a name="a2" href="smartTemplate-0.9.2pre51.xpi"
               title="View the content of the attachment">
          <b>0.9.2 pre 51</b></a>

          <span class="bz_attach_extra_info">
              (246.41 KB,
                application/x-xpinstall)

            <br>
            <a href="show_bug.cgi@id=25103.html#attach_7375"
               title="Go to the comment associated with the attachment">2012-08-30 01:20</a>,

            <a href="mailto:axel.grude&#64;gmail.com"
               title="Write an email to the creator of the attachment">Axel Grude
            </a>
          </span>
        </td>

          <td class="bz_attach_flags" valign="top">
              <i>no flags</i>
          </td>

        <td valign="top">
          <a href="https://quickfolders.org/bugzilla/bugs/attachment.cgi?id=7375&amp;action=edit">Details</a>
        </td>
      </tr>

  <tr class="bz_attach_footer">
    <td colspan="3">
        <span class="bz_attach_view_hide">
            <a href="show_bug.cgi@id=25103.html#a0" onClick="return toggle_display(this);">Hide Obsolete</a> (1)
        </span>
      <a href="https://quickfolders.org/bugzilla/bugs/attachment.cgi?bugid=25103&amp;action=enter">Add an attachment</a>
      (proposed patch, testcase, etc.)
    </td>
  </tr>
</table>
<br>




  <br>
  <table cellpadding="1" cellspacing="1">
    <tr>
      <td>
          <fieldset>
            <legend>Note</legend>
            <p>
              You need to
              <a href="https://quickfolders.org/bugzilla/bugs/show_bug.cgi?id=25103&amp;GoAheadAndLogIn=1">log in</a>
              before you can comment on or make changes to this bug.
            </p>
          </fieldset>
      </td>

      <td valign="top">
        <fieldset>
          <legend>Related actions</legend>
          <ul>
            <li><a href="https://quickfolders.org/bugzilla/bugs/show_activity.cgi?id=25103">View Bug Activity</a></li>
            <li><a href="https://quickfolders.org/bugzilla/bugs/show_bug.cgi?format=multiple&amp;id=25103">Format For Printing</a></li>
            <li><a href="https://quickfolders.org/bugzilla/bugs/show_bug.cgi?ctype=xml&amp;id=25103">XML</a></li>
            <li><a href="https://quickfolders.org/bugzilla/bugs/enter_bug.cgi?cloned_bug_id=25103">Clone This Bug</a></li>
          </ul>


          
        </fieldset>
      </td>
    </tr>
  </table>
  <br>





<hr>

<div id="comments"><script type="text/javascript">
  <!--
  function updateCommentPrivacy(checkbox, id) {
    var comment_elem = document.getElementById('comment_text_'+id).parentNode;
    if (checkbox.checked) {
      if (!comment_elem.className.match('bz_private')) {
        comment_elem.className = comment_elem.className.concat(' bz_private');
      }
    }
    else {
      comment_elem.className =
        comment_elem.className.replace(/(\s*|^)bz_private(\s*|$)/, '$2');
    }
  }
  //-->
  </script>








<div class="bz_comment">
        <table>
          <tr>
            <th align="left">
              <b><a name="c0" href="show_bug.cgi@id=25103.html#c0">
                Description</a>:</b>&nbsp;&nbsp;
            </th>
            <td align="left" width="30%">
              <b>Opened:</b> 2012-08-22 17:36
            </td>
          </tr>
        </table>
        


<pre class="bz_comment_text" >This is what the email body of 0.9pre257 looked:

  &lt;body bgcolor=&quot;#ffffff&quot; text=&quot;#000000&quot;&gt;
    &lt;div id=&quot;IDstID&quot;&gt;&lt;tt&gt;Hi Markus,&lt;br&gt;

0.9.1 changed this to:

  &lt;body bgcolor=&quot;#ffffff&quot; text=&quot;#000000&quot;&gt;
    &lt;br&gt;
    &lt;div id=&quot;smartTemplate4-template&quot;&gt;&lt;tt&gt;Hi Markus,&lt;br&gt;

Please remove the additional line break after the body tag. If I'd want a line
break here, I'd add it to my template.
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c1" href="show_bug.cgi@id=25103.html#c1">
            #1</a> From 
          <a href="mailto:marc&#64;tool8now.com">Marc Main</a>
          2012-08-23 04:38:13 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" >I have a similar but different issue.  My assumption is that the line-break is
automatically inserted as a place for your reply/forward to begin being typed;
while keeping your reply/forward outside of the smartTemplate4-template DIV.

My issue is I would like to have two line-breaks outside of the
smarttemplate4-template DIV.  This gives more room for my reply.  I find myself
always having to add the additional space every email.  Also, this is
consistent with the amount of space MS Outlook automatically creates, (granted
we should not use MS products as a baseline for comparison!)

However, this obviously depends on how the user is using ST4 whether or not
(s)he wants 0, 1, 2,..10 line breaks inserted automatically.
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c2" href="show_bug.cgi@id=25103.html#c2">
            #2</a> From 
          <a href="mailto:mozdev&#64;lichtjager.nl">Johan</a>
          2012-08-23 05:04:18 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" >I totally agree with the issue poster; The added &lt;br&gt; should be removed because
I now have to go back to an older version of smarttemplate, for all the
employees of my company... which is a real load of work.

I don't mind if it would be optional, like Marc Main suggests, as long as I can
configurate it so that there is no &lt;br&gt;.
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c3" href="show_bug.cgi@id=25103.html#c3">
            #3</a> From 
          <a href="mailto:axel.grude&#64;gmail.com">Axel Grude</a>
          2012-08-23 05:28:13 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" >There is some code in 0.9.1 that inserts ONE &lt;br&gt; as first element in the
&lt;body&gt; tag.

However, if you use the Template, you would probably want to start editing
_after_ it, like so:L

Dear %to(firstname)%,

(Cursor Position)


I added a global setting for inserting the &lt;br&gt; which will be  false by
default, but maybe I should change it to an integer (and default to 0). This
way users could configure 0, 1 or more new lines at the top of their emails?
Hope I understand you correctly.
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c4" href="show_bug.cgi@id=25103.html#c4">
            #4</a> From 
          <a href="mailto:axel.grude&#64;gmail.com">Axel Grude</a>
          2012-08-23 05:31:38 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" ><span class="bz_obsolete"><a href="smartTemplate-0.9.2pre24.xpi.3" name="attach_7349" title="configurable version">Created an attachment (id=7349)</a> <a href="https://quickfolders.org/bugzilla/bugs/attachment.cgi?id=7349&amp;action=edit" title="configurable version">[details]</a></span>
configurable version

this version has a hidden about:config setting:

extensions.smartTemplate4.insertBRatTop

which is a flag to configure whether to insert the &lt;br&gt;. default is false.

Also note that we have decided to split the template (where you put salutation
and other elements of your email template) and the quote header (the part that
introduces the original email, such as &quot;on 12/04/2012, Axel wrote:&quot;, into 2
separate text fields in order to better support &quot;reply at bottom&quot;. 

Eventually we will have a page with global settings, but that needs to be built
first.
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c5" href="show_bug.cgi@id=25103.html#c5">
            #5</a> From 
          <a href="mailto:marc&#64;tool8now.com">Marc Main</a>
          2012-08-23 05:34:42 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi@id=25103.html#c3">comment #3</a>)
<span class="quote">&gt;... maybe I should change it to an integer (and default to 0). This
&gt; way users could configure 0, 1 or more new lines at the top of their emails?</span >

I think this is a good solution.  In the past we have just not automatically
added any lines, requiring the user to create line breaks in their template. 
This gives the user full control, but also guarantees the full reply message
would be within the ST4 created DIV which is not desirable IMO.
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c6" href="show_bug.cgi@id=25103.html#c6">
            #6</a> From 
          <a href="mailto:mozdev&#64;lichtjager.nl">Johan</a>
          2012-08-23 05:45:32 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi@id=25103.html#c4">comment #4</a>)
Thanks very much! I tested the new version; the first additional &lt;br&gt; is now
gone! 

When will this be in a normal release?
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c7" href="show_bug.cgi@id=25103.html#c7">
            #7</a> From 
          <a href="mailto:axel.grude&#64;gmail.com">Axel Grude</a>
          2012-08-23 05:49:33 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi@id=25103.html#c6">comment #6</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi@id=25103.html#c4">comment #4</a>)
&gt; Thanks very much! I tested the new version; the first additional &lt;br&gt; is now
&gt; gone! 
&gt; 
&gt; When will this be in a normal release?
&gt; </span >

As soon as 0.9.2 will be released. Could be a couple of weeks, as we need the
translators to work on the new options dialogs. 

And we need a hell of a lot of testing to do. Since I don't do this full time,
and I am not paid, I can only put in so many hours per day. 

Axel
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c8" href="show_bug.cgi@id=25103.html#c8">
            #8</a> From 
          <a href="mailto:mw&#64;bingo-ev.de">mw&#64;bingo-ev.de</a>
          2012-08-23 05:53:00 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" >Version 0.9.2pre24 FIXED the problem. Thanks a bunch, Axel.
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c9" href="show_bug.cgi@id=25103.html#c9">
            #9</a> From 
          <a href="mailto:mozdev&#64;lichtjager.nl">Johan</a>
          2012-08-27 05:33:54 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi@id=25103.html#c7">comment #7</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi@id=25103.html#c6">comment #6</a>)
&gt; &gt; (In reply to <a href="show_bug.cgi@id=25103.html#c4">comment #4</a>)
&gt; &gt; Thanks very much! I tested the new version; the first additional &lt;br&gt; is now
&gt; &gt; gone! 
&gt; &gt; 
&gt; &gt; When will this be in a normal release?
&gt; &gt; 
&gt; 
&gt; As soon as 0.9.2 will be released. Could be a couple of weeks, as we need the
&gt; translators to work on the new options dialogs. 
&gt; 
&gt; And we need a hell of a lot of testing to do. Since I don't do this full time,
&gt; and I am not paid, I can only put in so many hours per day. 
&gt; 
&gt; Axel
&gt; </span >
Hi Axel,

While testing the new (not yet released version of SmartTemplate4 (0.9.2pre24)
I found out that when I fill in the second text-field and checking the checkbox
in between the two text-fields I get one signature when I reply, but two
signatures when I forward. I have both settings exactly the same. So I think
there is something not quite right there. 

Bets regards,
Johan
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c10" href="show_bug.cgi@id=25103.html#c10">
            #10</a> From 
          <a href="mailto:axel.grude&#64;gmail.com">Axel Grude</a>
          2012-08-30 01:20:49 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" ><span class=""><a href="smartTemplate-0.9.2pre51.xpi" name="attach_7375" title="0.9.2 pre 51">Created an attachment (id=7375)</a> <a href="https://quickfolders.org/bugzilla/bugs/attachment.cgi?id=7375&amp;action=edit" title="0.9.2 pre 51">[details]</a></span>
0.9.2 pre 51

Here is a tidied up version. This really removes all &lt;br&gt; at the top, provided
the setting is set to false.
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c11" href="show_bug.cgi@id=25103.html#c11">
            #11</a> From 
          <a href="mailto:mw&#64;bingo-ev.de">mw&#64;bingo-ev.de</a>
          2012-08-30 03:51:43 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi@id=25103.html#c10">comment #10</a>)

0.9.2pre51 works for me. No line break at the top.

It even fixes a bug of 0.9.2pre24 I just found this morning. When you replied
to a message, saved it, closed it, then reopened it, an additional line break
was inserted at the top. Sometimes even a second SmartTemplate div was added at
the top of the message. But anyway, this one seems to be fixed now, too.

Thanks a lot, Axel.
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c12" href="show_bug.cgi@id=25103.html#c12">
            #12</a> From 
          <a href="mailto:axel.grude&#64;gmail.com">Axel Grude</a>
          2012-08-30 04:53:05 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi@id=25103.html#c11">comment #11</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi@id=25103.html#c10">comment #10</a>)
&gt; 
&gt; 0.9.2pre51 works for me. No line break at the top.
&gt; 
&gt; It even fixes a bug of 0.9.2pre24 I just found this morning. </span >

That seems logical :) 

There is only one developer (me) and obviously all fixes are cumulative.

<span class="quote">&gt; When you replied
&gt; to a message, saved it, closed it, then reopened it, an additional line break
&gt; was inserted at the top. Sometimes even a second SmartTemplate div was added at
&gt; the top of the message. But anyway, this one seems to be fixed now, too.
&gt; 
&gt; Thanks a lot, Axel.</span >


Good. now time for the translators to do their bit.
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c13" href="show_bug.cgi@id=25103.html#c13">
            #13</a> From 
          <a href="mailto:mozdev&#64;lichtjager.nl">Johan</a>
          2012-09-06 01:29:18 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" >I've installed the pre 51 and it fixes the problems I encountered. However,
when I try to change some settings I get the following error in the smart
template screen:
XML-parsefout: ongedefinieerde entiteit
Locatie: chrome://smarttemplate4/content/settings.xul
Regelnummer 180, kolom 12:                                                     
                                &lt;label value = &quot;&amp;pref_templateBox.label;&quot;/&gt;
----------------------------------------------------------------------------------------^
Maybe this has something to do with my language settings (dutch)
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c14" href="show_bug.cgi@id=25103.html#c14">
            #14</a> From 
          <a href="mailto:axel.grude&#64;gmail.com">Axel Grude</a>
          2012-09-21 04:33:59 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" >*** <span class="bz_closed"><a href="show_bug.cgi@id=25145.html" title="RESOLVED DUPLICATE - After template was applied empty line is shown at the top">Bug 25145</a></span> has been marked as a duplicate of this bug. ***
</pre>
    </div>
</div>

</form>

<hr>
<i><font color="#777777">First</font></i>
  <i><font color="#777777">Last</font></i>
  <i><font color="#777777">Prev</font></i>
  <i><font color="#777777">Next</font></i>
  &nbsp;&nbsp;
  <i><font color="#777777">No search results available</font></i>

<br>
</div>



<div id="footer">
  <div class="intro"></div>




<ul id="useful-links">
  <li id="links-actions">
    <div class="label">Actions: </div><ul class="links">
  <li><a href="https://quickfolders.org/bugzilla/bugs/">Home</a></li>
  <li><span class="separator">| </span><a href="https://quickfolders.org/bugzilla/bugs/enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="https://quickfolders.org/bugzilla/bugs/query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="https://quickfolders.org/bugzilla/bugs/buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input class="txt" type="text" name="quicksearch">
    <input class="btn" type="submit" value="Find" id="find_bottom"></form></li>

  <li><span class="separator">| </span><a href="https://quickfolders.org/bugzilla/bugs/report.cgi">Reports</a></li>

  <li>
    <span class="separator">| </span>
      <a href="https://quickfolders.org/bugzilla/bugs/request.cgi">Requests</a></li>


      <li><span class="separator">| </span><a href="https://quickfolders.org/bugzilla/bugs/createaccount.cgi">New&nbsp;Account</a></li>
      



      

        
      <li><span class="separator">| </span><a href="https://quickfolders.org/bugzilla/bugs/show_bug.cgi?id=25103&amp;GoAheadAndLogIn=1">Log&nbsp;In</a></li>
</ul>
  </li>

  
    
    
    

  


  
</ul>

  <div class="outro"></div>
</div>

</body>
</html>