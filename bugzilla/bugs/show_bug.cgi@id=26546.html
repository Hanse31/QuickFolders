<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/html4/loose.dtd">
<html>
  <head>
    <meta name="robots" content="noindex,noarchive,nofollow">
    <title>Bug 26546 &ndash; Forwarding mails breaks stationery from Stationery add-on (all other ok)</title>


<link rel="Top" href="https://quickfolders.org/bugzilla/bugs/">

  

  


  
    <link rel="Show" title="Dependency Tree"
          href="https://quickfolders.org/bugzilla/bugs/showdependencytree.cgi?id=26546&amp;hide_resolved=1">
      <link rel="Show" title="Dependency Graph"
            href="https://quickfolders.org/bugzilla/bugs/showdependencygraph.cgi?id=26546">


      <link rel="Show" title="Bug Activity"
            href="https://quickfolders.org/bugzilla/bugs/show_activity.cgi?id=26546">
      <link rel="Show" title="Printer-Friendly Version"
            href="https://quickfolders.org/bugzilla/bugs/show_bug.cgi?format=multiple&amp;id=26546">


    

    <script type="text/javascript">
  <!--
  
  function initHelp() {}
  // -->
  </script>

    

    
      <link href="https://quickfolders.org/bugzilla/bugs/skins/standard/global.css"
            rel="stylesheet"
            type="text/css">
    <!--[if IE]>
      
      <link href="skins/standard/IE-fixes.css"
            rel="stylesheet"
            type="text/css">
    <![endif]-->

    
        <link href="https://quickfolders.org/bugzilla/bugs/skins/standard/global.css"
              rel="stylesheet"
              title="Classic"
              type="text/css">
      <!--[if IE]>
        
        <link href="skins/standard/IE-fixes.css"
              rel="stylesheet"
              title="Classic"
              type="text/css">
      <![endif]-->

    

    

    
        <link href="https://quickfolders.org/bugzilla/bugs/skins/custom/global.css" rel="stylesheet" type="text/css">
    <!--[if IE]>
      
      <link href="skins/custom/IE-fixes.css"
            rel="stylesheet"
            type="text/css">
    <![endif]-->

    <link href="https://www.mozdev.org/sharedimages/mozdev-icon.png" rel="icon" type="image/png">
    

    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="Bugzilla@Mozdev" href="https://quickfolders.org/bugzilla/bugs/search_plugin.cgi">
                                          
  </head>



  <body onload=""
        class="www-mozdev-org-bugs bz_bug bz_status_RESOLVED bz_component_General bz_bug_26546">




<div id="header">
<div id="banner">
  </div>

<div id="mozdev-logolet">
<table border="0" cellspacing="0" cellpadding="0" id="titles">
<tr>
    <td id="title">
      <p>Bugzilla@Mozdev &ndash; Bug&nbsp;26546</p>
    </td>

    <td id="subtitle">
      <p class="subheader">Forwarding mails breaks stationery from Stationery add-on (all other ok)</p>
    </td>

    <td id="information">
      <p class="header_addl_info">Last modified: 2019-07-28 07:14:30</p>
    </td>
</tr>
</table>
</div>

<ul class="links">
  <li><a href="https://quickfolders.org/bugzilla/bugs/">Home</a></li>
  <li><span class="separator">| </span><a href="https://quickfolders.org/bugzilla/bugs/enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="https://quickfolders.org/bugzilla/bugs/query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="https://quickfolders.org/bugzilla/bugs/buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input class="txt" type="text" name="quicksearch">
    <input class="btn" type="submit" value="Find" id="find_top"></form></li>

  <li><span class="separator">| </span><a href="https://quickfolders.org/bugzilla/bugs/report.cgi">Reports</a></li>

  <li>
    <span class="separator">| </span>
      <a href="https://quickfolders.org/bugzilla/bugs/request.cgi">Requests</a></li>


      <li><span class="separator">| </span><a href="https://quickfolders.org/bugzilla/bugs/createaccount.cgi">New&nbsp;Account</a></li>
      



      

        
      <li><span class="separator">| </span><a href="https://quickfolders.org/bugzilla/bugs/show_bug.cgi?id=26546&amp;GoAheadAndLogIn=1">Log&nbsp;In</a></li>
</ul>

</div>

<div id="bugzilla-body">

<i><font color="#777777">First</font></i>
  <i><font color="#777777">Last</font></i>
  <i><font color="#777777">Prev</font></i>
  <i><font color="#777777">Next</font></i>
  &nbsp;&nbsp;
  <i><font color="#777777">No search results available</font></i>

<hr>
<script type="text/javascript">
  <!--

  /* Outputs a link to call replyToComment(); used to reduce HTML output */
  function addReplyLink(id) {
      /* XXX this should really be updated to use the DOM Core's
       * createElement, but finding a container isn't trivial.
       */
      document.write('[<a href="#add_comment" onclick="replyToComment(' + 
                     id + ');">reply<' + '/a>]');
  }

  /* Adds the reply text to the `comment' textarea */
  function replyToComment(id) {
      /* pre id="comment_name_N" */
      var text_elem = document.getElementById('comment_text_'+id);
      var text = getText(text_elem);

      /* make sure we split on all newlines -- IE or Moz use \r and \n
       * respectively.
       */
      text = text.split(/\r|\n/);

      var replytext = "";
      for (var i=0; i < text.length; i++) {
          replytext += "> " + text[i] + "\n"; 
      }

      replytext = "(In reply to comment #" + id + ")\n" + replytext + "\n";


      /* <textarea id="comment"> */
      var textarea = document.getElementById('comment');
      textarea.value += replytext;

      textarea.focus();
  }

  if (typeof Node == 'undefined') {
      /* MSIE doesn't define Node, so provide a compatibility object */
      window.Node = {
          TEXT_NODE: 3,
          ENTITY_REFERENCE_NODE: 5
      };
  }

  /* Concatenates all text from element's childNodes. This is used
   * instead of innerHTML because we want the actual text (and
   * innerText is non-standard).
   */
  function getText(element) {
      var child, text = "";
      for (var i=0; i < element.childNodes.length; i++) {
          child = element.childNodes[i];
          var type = child.nodeType;
          if (type == Node.TEXT_NODE || type == Node.ENTITY_REFERENCE_NODE) {
              text += child.nodeValue;
          } else {
              /* recurse into nodes of other types */
              text += getText(child);
          }
      }
      return text;
  }


  function updateCommentTagControl(checkbox, form) {
      if (checkbox.checked) {
          form.comment.className='bz_private';
      } else {
          form.comment.className='';
      }
  }

  //-->
  </script>

<form name="changeform" method="post" action="https://quickfolders.org/bugzilla/bugs/process_bug.cgi">

  <input type="hidden" name="delta_ts" value="2019-07-28 07:14:30">
  <input type="hidden" name="longdesclength" value="14">
  <input type="hidden" name="id" value="26546">

  
  <table>
    <tr>
      <td valign="top">
        <fieldset>
          <legend>Details</legend>
          <table>

            
            <tr>
              <td align="right">
                <label for="short_desc" accesskey="s"><b><u>S</u>ummary</b></label>:
              </td><td colspan="2">
       <input type="hidden" name="short_desc" id="short_desc"
              value="Forwarding mails breaks stationery from Stationery add-on (all other ok)">
        <span title="Forwarding mails breaks stationery from Stationery add-on (all other ok)">Forwarding mails breaks stationery from Stationery add-on...
        </span>
  </td>
            </tr>

            <tr>
              <td colspan="3">
                <table>
                  <tr>
                    
                    <td valign="top"><table cellspacing="1" cellpadding="1">
    <tr>
      <td align="right">
        <b>Bug#</b>:
      </td>
      <td>
        <a href="show_bug.cgi@id=26546.html">26546</a>
      </td>
    </tr>


    <tr>
      <td align="right">
        <label for="product" accesskey="p"><b><u>P</u>roduct</b></label>:
      </td><td>
      <input type="hidden" id="product" name="product" value="smarttemplate4">smarttemplate4
  </td>
    </tr>

    <tr>
      <td align="right">
        <label for="component" accesskey="m"><b><a href="https://quickfolders.org/bugzilla/bugs/describecomponents.cgi?product=smarttemplate4">Co<u>m</u>ponent</a></b></label>:
      </td><td>
      <input type="hidden" id="component" name="component" value="General">General
  </td>
    </tr>

    <tr>
      <td align="right">
        <b><a href="https://quickfolders.org/bugzilla/bugs/page.cgi?id=fields.html#status">Status</a></b>:
      </td>
      <td>RESOLVED</td>
    </tr>

    <tr>
      <td align="right">
        <b><a href="https://quickfolders.org/bugzilla/bugs/page.cgi?id=fields.html#resolution">Resolution</a></b>:
      </td>
      <td>REMIND
      </td>
    </tr>
  </table></td>

                    
                    <td valign="top"><table cellspacing="1" cellpadding="1">
    <tr>
      <td align="right">
        <label for="rep_platform" accesskey="h"><b><u>H</u>ardware</b></label>:
      </td><td>
      <input type="hidden" id="rep_platform" name="rep_platform" value="Macintosh">Macintosh
  </td>
    </tr>

    <tr>
      <td align="right">
        <label for="op_sys" accesskey="o"><b><u>O</u>S</b></label>:
      </td><td>
      <input type="hidden" id="op_sys" name="op_sys" value="Mac OS X 10.7">Mac OS X 10.7
  </td>
    </tr>

    <tr>
      <td align="right">
        <label for="version"><b>Version</b></label>:
      </td><td>
      <input type="hidden" id="version" name="version" value="unspecified">unspecified
  </td>
    </tr>

    <tr>
      <td align="right">
        <label for="priority" accesskey="i"><b><a href="https://quickfolders.org/bugzilla/bugs/page.cgi?id=fields.html#priority">Pr<u>i</u>ority</a></b></label>:
      </td><td>
      <input type="hidden" id="priority" name="priority" value="P1">P1
  </td>
    </tr>

    <tr>
      <td align="right">
        <label for="bug_severity"><b><a href="https://quickfolders.org/bugzilla/bugs/page.cgi?id=fields.html#bug_severity">Severity</a></b></label>:
      </td><td>
      <input type="hidden" id="bug_severity" name="bug_severity" value="major">major
  </td>
    </tr>

      <tr>
        <td align="right">
          <label for="target_milestone"><b>
            Target Milestone</b></label>:
        </td><td>
      <input type="hidden" id="target_milestone" name="target_milestone" value="---">---
  </td>
      </tr>
  </table></td>
                  </tr>
                </table>
              </td>
            </tr>

            <tr>
              <td colspan="3"><hr size="1"></td>
            </tr>

            

            <tr>
              <td align="right">
                <label for="bug_file_loc" accesskey="u"><b>
                    <u>U</u>RL</b></label>:
              </td><td colspan="2">
       <input type="hidden" name="bug_file_loc" id="bug_file_loc"
              value="">
  </td>
            </tr>

              <tr>
                <td align="right">
                  <label for="status_whiteboard" accesskey="w"><b><u>W</u>hiteboard</b></label>:
                </td><td colspan="2">
       <input type="hidden" name="status_whiteboard" id="status_whiteboard"
              value="">
  </td>
              </tr>

              <tr>
                <td align="right">
                  <label for="keywords" accesskey="k">
                    <b><a href="https://quickfolders.org/bugzilla/bugs/describekeywords.cgi"><u>K</u>eywords</a></b></label>:
                </td><td colspan="2">
       <input type="hidden" name="keywords" id="keywords"
              value="">
  </td>
              </tr>

            


            

            <tr><th align="right">
    <label for="dependson">Depends&nbsp;on</label>:
  </th>
  <td>
  </td>
  <td>
      <input type="hidden" id="dependson" name="dependson"
             value="">
  </td>
            </tr>

            <tr><th align="right">
    <label for="blocked" accesskey="b"><u>B</u>locks</label>:
  </th>
  <td>
  </td>
  <td>
      <input type="hidden" id="blocked" name="blocked"
             value="">
  </td>
            </tr>

            <tr>
              <th>&nbsp;</th>

              <td colspan="2">
                <a href="https://quickfolders.org/bugzilla/bugs/showdependencytree.cgi?id=26546&amp;hide_resolved=1">Show
                   dependency tree</a>

                  - <a href="https://quickfolders.org/bugzilla/bugs/showdependencygraph.cgi?id=26546">Show
                       dependency graph</a>
              </td>
            </tr>
          </table>
        </fieldset>
      </td>

      
      <script type="text/javascript">
        <!--
        var v = document.body.offsetHeight;
        //-->
      </script>

      <td valign="top">
        
        <fieldset>
          <legend>People</legend><table cellpadding="1" cellspacing="1">
    <tr>
      <td align="right">
        <b>Reporter</b>:
      </td>
      <td>
        <a href="mailto:moritz&#64;profitlich.com">Moritz &lt;moritz&#64;profitlich.com&gt;</a>
      </td>
    </tr>

    <tr>
      <td align="right">
        <b><a href="https://quickfolders.org/bugzilla/bugs/page.cgi?id=fields.html#assigned_to">Assigned&nbsp;To</a></b>:
      </td>
      <td>
        <a href="mailto:axel.grude&#64;gmail.com">Axel Grude &lt;axel.grude&#64;gmail.com&gt;</a>
      </td>
    </tr>



    <tr>
        <td align="right" valign="top">
          <label for="cc"><b>CC</b></label>:
        </td>
        <td valign="top">
          <select id="cc" name="cc" multiple="multiple" size="5">
            <option value="axel.grude&#64;gmail.com">axel.grude&#64;gmail.com</option>
            <option value="dev&#64;tog.design">dev&#64;tog.design</option>
          </select>
        </td>
    </tr>
  </table>
        </fieldset>

        
      </td>
    </tr>
  </table>



<script type="text/javascript">
  <!--
  function toggle_display(link) {
    var table = document.getElementById("attachment_table");
    var rows = table.getElementsByTagName("tr");
    var originalHeight = table.offsetHeight; // Store current height for scrolling

    var toggle;
    if (link.innerHTML == "Show Obsolete") {
      toggle = ""; // This should be 'table-row', but IE 6 doesn't understand it.
      link.innerHTML = "Hide Obsolete";
    }
    else {
      toggle = "none";
      link.innerHTML = "Show Obsolete";
    }

    for (var i = 0; i < rows.length; i++) {
      if (rows[i].className.match('bz_tr_obsolete'))
        rows[i].style.display = toggle;
    }

    var newHeight = table.offsetHeight;
    window.scrollBy(0, newHeight - originalHeight);

    return false;
  }
  //-->
</script>

<br>
<table id="attachment_table" cellspacing="0" cellpadding="4">
  <tr>
    <th colspan="3" align="left">
      <a name="a0" id="a0">Attachments</a>
    </th>
  </tr>


      <tr class="
                 ">
        <td valign="top">
            <a name="a1" href="Smarttemplate&#32;forward.jpg"
               title="View the content of the attachment">
          <b>Smarttemplate4 causes stationery to be unused for forwarding</b></a>

          <span class="bz_attach_extra_info">
              (944.16 KB,
                image/jpeg)

            <br>
            <a href="show_bug.cgi@id=26546.html#attach_8477"
               title="Go to the comment associated with the attachment">2018-05-24 02:41</a>,

            <a href="mailto:moritz&#64;profitlich.com"
               title="Write an email to the creator of the attachment">Moritz
            </a>
          </span>
        </td>

          <td class="bz_attach_flags" valign="top">
              <i>no flags</i>
          </td>

        <td valign="top">
          <a href="https://quickfolders.org/bugzilla/bugs/attachment.cgi?id=8477&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr class="
                 ">
        <td valign="top">
            <a name="a2" href="mailvorlage.min.html"
               title="View the content of the attachment">
          <b>HTML template used by stationery add-on</b></a>

          <span class="bz_attach_extra_info">
              (2.46 KB,
                text/html)

            <br>
            <a href="show_bug.cgi@id=26546.html#attach_8478"
               title="Go to the comment associated with the attachment">2018-05-24 07:35</a>,

            <a href="mailto:moritz&#64;profitlich.com"
               title="Write an email to the creator of the attachment">Moritz
            </a>
          </span>
        </td>

          <td class="bz_attach_flags" valign="top">
              <i>no flags</i>
          </td>

        <td valign="top">
          <a href="https://quickfolders.org/bugzilla/bugs/attachment.cgi?id=8478&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr class="
                 ">
        <td valign="top">
            <a name="a3" href="Reply.html"
               title="View the content of the attachment">
          <b>Mail created with &quot;Reply&quot; (correct result)</b></a>

          <span class="bz_attach_extra_info">
              (10.74 KB,
                text/html)

            <br>
            <a href="show_bug.cgi@id=26546.html#attach_8479"
               title="Go to the comment associated with the attachment">2018-05-24 07:36</a>,

            <a href="mailto:moritz&#64;profitlich.com"
               title="Write an email to the creator of the attachment">Moritz
            </a>
          </span>
        </td>

          <td class="bz_attach_flags" valign="top">
              <i>no flags</i>
          </td>

        <td valign="top">
          <a href="https://quickfolders.org/bugzilla/bugs/attachment.cgi?id=8479&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr class="
                 ">
        <td valign="top">
            <a name="a4" href="Forward.html"
               title="View the content of the attachment">
          <b>Mail created with &quot;Forward&quot; (faulty result)</b></a>

          <span class="bz_attach_extra_info">
              (6.71 KB,
                text/html)

            <br>
            <a href="show_bug.cgi@id=26546.html#attach_8480"
               title="Go to the comment associated with the attachment">2018-05-24 07:37</a>,

            <a href="mailto:moritz&#64;profitlich.com"
               title="Write an email to the creator of the attachment">Moritz
            </a>
          </span>
        </td>

          <td class="bz_attach_flags" valign="top">
              <i>no flags</i>
          </td>

        <td valign="top">
          <a href="https://quickfolders.org/bugzilla/bugs/attachment.cgi?id=8480&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr class="
                 ">
        <td valign="top">
            <a name="a5" href="smartTemplate-fx-2.1pre257.xpi"
               title="View the content of the attachment">
          <b>2.1 pre 257</b></a>

          <span class="bz_attach_extra_info">
              (535.46 KB,
                application/x-xpinstall)

            <br>
            <a href="show_bug.cgi@id=26546.html#attach_8643"
               title="Go to the comment associated with the attachment">2019-07-08 13:07</a>,

            <a href="mailto:axel.grude&#64;gmail.com"
               title="Write an email to the creator of the attachment">Axel Grude
            </a>
          </span>
        </td>

          <td class="bz_attach_flags" valign="top">
              <i>no flags</i>
          </td>

        <td valign="top">
          <a href="https://quickfolders.org/bugzilla/bugs/attachment.cgi?id=8643&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr class="
                 ">
        <td valign="top">
            <a name="a6" href="Test1.png"
               title="View the content of the attachment">
          <b>Test results</b></a>

          <span class="bz_attach_extra_info">
              (181.73 KB,
                image/png)

            <br>
            <a href="show_bug.cgi@id=26546.html#attach_8644"
               title="Go to the comment associated with the attachment">2019-07-09 05:13</a>,

            <a href="mailto:axel.grude&#64;gmail.com"
               title="Write an email to the creator of the attachment">Axel Grude
            </a>
          </span>
        </td>

          <td class="bz_attach_flags" valign="top">
              <i>no flags</i>
          </td>

        <td valign="top">
          <a href="https://quickfolders.org/bugzilla/bugs/attachment.cgi?id=8644&amp;action=edit">Details</a>
        </td>
      </tr>

  <tr class="bz_attach_footer">
    <td colspan="3">
        <span class="bz_attach_view_hide">
        </span>
      <a href="https://quickfolders.org/bugzilla/bugs/attachment.cgi?bugid=26546&amp;action=enter">Add an attachment</a>
      (proposed patch, testcase, etc.)
    </td>
  </tr>
</table>
<br>




  <br>
  <table cellpadding="1" cellspacing="1">
    <tr>
      <td>
          <fieldset>
            <legend>Note</legend>
            <p>
              You need to
              <a href="https://quickfolders.org/bugzilla/bugs/show_bug.cgi?id=26546&amp;GoAheadAndLogIn=1">log in</a>
              before you can comment on or make changes to this bug.
            </p>
          </fieldset>
      </td>

      <td valign="top">
        <fieldset>
          <legend>Related actions</legend>
          <ul>
            <li><a href="https://quickfolders.org/bugzilla/bugs/show_activity.cgi?id=26546">View Bug Activity</a></li>
            <li><a href="https://quickfolders.org/bugzilla/bugs/show_bug.cgi?format=multiple&amp;id=26546">Format For Printing</a></li>
            <li><a href="https://quickfolders.org/bugzilla/bugs/show_bug.cgi?ctype=xml&amp;id=26546">XML</a></li>
            <li><a href="https://quickfolders.org/bugzilla/bugs/enter_bug.cgi?cloned_bug_id=26546">Clone This Bug</a></li>
          </ul>


          
        </fieldset>
      </td>
    </tr>
  </table>
  <br>





<hr>

<div id="comments"><script type="text/javascript">
  <!--
  function updateCommentPrivacy(checkbox, id) {
    var comment_elem = document.getElementById('comment_text_'+id).parentNode;
    if (checkbox.checked) {
      if (!comment_elem.className.match('bz_private')) {
        comment_elem.className = comment_elem.className.concat(' bz_private');
      }
    }
    else {
      comment_elem.className =
        comment_elem.className.replace(/(\s*|^)bz_private(\s*|$)/, '$2');
    }
  }
  //-->
  </script>








<div class="bz_comment">
        <table>
          <tr>
            <th align="left">
              <b><a name="c0" href="show_bug.cgi@id=26546.html#c0">
                Description</a>:</b>&nbsp;&nbsp;
            </th>
            <td align="left" width="30%">
              <b>Opened:</b> 2018-05-24 02:41
            </td>
          </tr>
        </table>
        


<pre class="bz_comment_text" ><span class=""><a href="Smarttemplate&#32;forward.jpg" name="attach_8477" title="Smarttemplate4 causes stationery to be unused for forwarding">Created an attachment (id=8477)</a> <a href="https://quickfolders.org/bugzilla/bugs/attachment.cgi?id=8477&amp;action=edit" title="Smarttemplate4 causes stationery to be unused for forwarding">[details]</a></span>
Smarttemplate4 causes stationery to be unused for forwarding

Until very recently (I believe until version 1.5.1) Smarttemplate4 worked fine
with the stationery add-on. Now, when I forward (and only when I forward),
Smarttemplate4 breaks my stationery template: the template is not used for the
email. I can tell that the template is not used as I get the same result when I
deactive the Stationery add-on.

When I deactivate Smarttemplate4, the error does not occur anymore. Creating
new mails and replying do not produce the error, only forwarding. See image
attached.
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c1" href="show_bug.cgi@id=26546.html#c1">
            #1</a> From 
          <a href="mailto:axel.grude&#64;gmail.com">Axel Grude</a>
          2018-05-24 05:08:49 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" >Looking at 5he attached screenshot there is a green colored background on top -
how do you add this? It would be helpful if you can export your forwarding
template using the save button. Also  an you check error console using
CTRL+SHIFT+J to look for any warnings issued as you press the forward button?

If there is a long log you can follow the instructions on 9ur trouble shooting
page for generating a text only log file.
(Sorry I can't paste the link here as I am currently away from office and
writing from my mobile phone)
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c2" href="show_bug.cgi@id=26546.html#c2">
            #2</a> From 
          <a href="mailto:moritz&#64;profitlich.com">Moritz</a>
          2018-05-24 07:33:08 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" >Thanks for your instructions on finding the error's source.

The error console (CMd + Shift + J) does not list any errors.

The green and red colour on my screenshots are not part of the template, I
added the colour in Photoshop to show the difference between the faulty and the
correct mail. The green area shows the padding a mail should have, the red area
has the same size and illustrates how the padding gets lost as the stationery
in missing.

I will add three HTML files: template, mail when replying, mail when
forwarding.
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c3" href="show_bug.cgi@id=26546.html#c3">
            #3</a> From 
          <a href="mailto:moritz&#64;profitlich.com">Moritz</a>
          2018-05-24 07:35:15 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" ><span class=""><a href="mailvorlage.min.html" name="attach_8478" title="HTML template used by stationery add-on">Created an attachment (id=8478)</a> <a href="https://quickfolders.org/bugzilla/bugs/attachment.cgi?id=8478&amp;action=edit" title="HTML template used by stationery add-on">[details]</a></span>
HTML template used by stationery add-on

This template is used by the stationery add-on for all mails (new, reply,
forward). A signature will be inserted by Thunderbird at &lt;div
stationery=&quot;signature-placeholder&quot;&gt;&lt;/div&gt;.
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c4" href="show_bug.cgi@id=26546.html#c4">
            #4</a> From 
          <a href="mailto:moritz&#64;profitlich.com">Moritz</a>
          2018-05-24 07:36:22 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" ><span class=""><a href="Reply.html" name="attach_8479" title="Mail created with &quot;Reply&quot; (correct result)">Created an attachment (id=8479)</a> <a href="https://quickfolders.org/bugzilla/bugs/attachment.cgi?id=8479&amp;action=edit" title="Mail created with &quot;Reply&quot; (correct result)">[details]</a></span>
Mail created with &quot;Reply&quot; (correct result)

This mail is correct, no error occurs when replying
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c5" href="show_bug.cgi@id=26546.html#c5">
            #5</a> From 
          <a href="mailto:moritz&#64;profitlich.com">Moritz</a>
          2018-05-24 07:37:46 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" ><span class=""><a href="Forward.html" name="attach_8480" title="Mail created with &quot;Forward&quot; (faulty result)">Created an attachment (id=8480)</a> <a href="https://quickfolders.org/bugzilla/bugs/attachment.cgi?id=8480&amp;action=edit" title="Mail created with &quot;Forward&quot; (faulty result)">[details]</a></span>
Mail created with &quot;Forward&quot; (faulty result)

The template selected in the stationery add-on is not used for mails when
forwarding
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c6" href="show_bug.cgi@id=26546.html#c6">
            #6</a> From 
          <a href="mailto:axel.grude&#64;gmail.com">Axel Grude</a>
          2019-01-04 07:03:40 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" >Can you retest with SmartTemplate 2.0?
   - it works for me
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c7" href="show_bug.cgi@id=26546.html#c7">
            #7</a> From 
          <a href="mailto:dev&#64;tog.design">Everton</a>
          2019-07-08 12:33:43 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" >I have the same problem.
My template is also not loaded only in forwarded template.
And the content of the forwarded message is also not inserted, it presents the
word undefined in place of the content.
For new message and reply everything works fine.
When I disable the SmartTemplate, Stationery Model loads normally.
SmartTemplate 2.0
Stationery 1.0.0
Thunderbird 60.7.2 (64-bit)
Mac OS 10.14.5
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c8" href="show_bug.cgi@id=26546.html#c8">
            #8</a> From 
          <a href="mailto:axel.grude&#64;gmail.com">Axel Grude</a>
          2019-07-08 13:07:12 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" ><span class=""><a href="smartTemplate-fx-2.1pre257.xpi" name="attach_8643" title="2.1 pre 257">Created an attachment (id=8643)</a> <a href="https://quickfolders.org/bugzilla/bugs/attachment.cgi?id=8643&amp;action=edit" title="2.1 pre 257">[details]</a></span>
2.1 pre 257

Try the latest pre-release to see whether that fixes it.
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c9" href="show_bug.cgi@id=26546.html#c9">
            #9</a> From 
          <a href="mailto:dev&#64;tog.design">Everton</a>
          2019-07-08 14:06:32 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi@id=26546.html#c8">comment #8</a>)
<span class="quote">&gt; Created an <span class=""><a href="smartTemplate-fx-2.1pre257.xpi" name="attach_8643" title="2.1 pre 257">attachment (id=8643)</a> <a href="https://quickfolders.org/bugzilla/bugs/attachment.cgi?id=8643&amp;action=edit" title="2.1 pre 257">[details]</a></span> [details]
&gt; 2.1 pre 257
&gt; 
&gt; Try the latest pre-release to see whether that fixes it.
&gt; </span >

Unfortunately, pre-release 2.1 did not solve the problem.
When I choose a template in Stationery dropdown on upper right corner of the
message window, the Stationery template is loaded but instead of the contents
of the forwarded message it only appears: undefined, same as before.

I've tried showing the content forwarded with % quotePlaceholder% and &lt;div
stationery=&quot;content-placeholder&quot;&gt;&lt;/ div&gt; in my Stationery template and always
appears undefined

In the SmartTemplate4 settings I checked &quot;Apply the following template when
forwarding messages&quot; and &quot;Use in place of the previous message header&quot;, and the
header and template text area are empty.
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c10" href="show_bug.cgi@id=26546.html#c10">
            #10</a> From 
          <a href="mailto:axel.grude&#64;gmail.com">Axel Grude</a>
          2019-07-08 15:20:35 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi@id=26546.html#c9">comment #9</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi@id=26546.html#c8">comment #8</a>)
&gt; &gt; Created an <span class=""><a href="smartTemplate-fx-2.1pre257.xpi" name="attach_8643" title="2.1 pre 257">attachment (id=8643)</a> <a href="https://quickfolders.org/bugzilla/bugs/attachment.cgi?id=8643&amp;action=edit" title="2.1 pre 257">[details]</a></span> [details] [details]
&gt; &gt; 2.1 pre 257
&gt; &gt; 
&gt; &gt; Try the latest pre-release to see whether that fixes it.
&gt; &gt; 
&gt; 
&gt; Unfortunately, pre-release 2.1 did not solve the problem.
&gt; When I choose a template in Stationery dropdown on upper right corner of the
&gt; message window, the Stationery template is loaded </span >

Hold on i usually select a stationery from the dropdown arrow beside the
write/reply/forward button in message 3pane view. I don't understand how you
did it? Is composed already showing when you select the stationery?

Axel
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c11" href="show_bug.cgi@id=26546.html#c11">
            #11</a> From 
          <a href="mailto:axel.grude&#64;gmail.com">Axel Grude</a>
          2019-07-09 05:13:19 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" ><span class=""><a href="Test1.png" name="attach_8644" title="Test results">Created an attachment (id=8644)</a> <a href="https://quickfolders.org/bugzilla/bugs/attachment.cgi?id=8644&amp;action=edit" title="Test results">[details]</a></span>
Test results

Here is a test I did on Tb 60.7.2 using your template:

1) opened an email (notification from YouTube) in a window
2) selected the dropdown forward &gt; Stationery &gt; Other Stationery...
3) opened your file mailvorlage.min.html

this opens Composer - you can see the result in the screenshot. 

Can you make sure you have the checkbox 
[x] &quot;Apply the following template to the forwarded message&quot; 
activated? 
It seems without the option, this Stationery prints an error message:

Error: right-hand side of 'in' should be an object, got undefined
Source file: resource://stationery/content/stationery.jsm
Line: 31

can you try and get more error deatil with consol² and the settings described
here: <a href="http://smarttemplate4.mozdev.org/support.html">http://smarttemplate4.mozdev.org/support.html</a>

Here is an alternative (smartTemplate⁴ specific) way to do the body part:
&lt;div id=&quot;body&quot;&gt;
  &lt;div id=&quot;content&quot; lang=&quot;de&quot;&gt;
    &lt;div id=&quot;text&quot;&gt;      
      &lt;p&gt;%cursor%&lt;/p&gt;
      &lt;p&gt;&lt;/p&gt;
      %quotePlaceholder% 
    &lt;/div&gt;
    %sig%
  &lt;/div&gt;
&lt;/div&gt;
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c12" href="show_bug.cgi@id=26546.html#c12">
            #12</a> From 
          <a href="mailto:axel.grude&#64;gmail.com">Axel Grude</a>
          2019-07-09 05:14:37 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi@id=26546.html#c9">comment #9</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi@id=26546.html#c8">comment #8</a>)
&gt; &gt; Created an <span class=""><a href="smartTemplate-fx-2.1pre257.xpi" name="attach_8643" title="2.1 pre 257">attachment (id=8643)</a> <a href="https://quickfolders.org/bugzilla/bugs/attachment.cgi?id=8643&amp;action=edit" title="2.1 pre 257">[details]</a></span> [details] [details]
&gt; &gt; 2.1 pre 257
&gt; &gt; 
&gt; &gt; Try the latest pre-release to see whether that fixes it.
&gt; &gt; 
&gt; 
&gt; Unfortunately, pre-release 2.1 did not solve the problem.
&gt; When I choose a template in Stationery dropdown on upper right corner of the
&gt; message window, the Stationery template is loaded but instead of the contents
&gt; of the forwarded message it only appears: undefined, same as before.
&gt; 
&gt; I've tried showing the content forwarded with % quotePlaceholder% and &lt;div
&gt; stationery=&quot;content-placeholder&quot;&gt;&lt;/ div&gt; in my Stationery template and always
&gt; appears undefined
&gt; 
&gt; In the SmartTemplate4 settings I checked &quot;Apply the following template when
&gt; forwarding messages&quot; and &quot;Use in place of the previous message header&quot;, and the
&gt; header and template text area are empty.
&gt; </span >

You can export your setting for the account using the &quot;Save template...&quot; button
to the right of the Account dropdown.
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c13" href="show_bug.cgi@id=26546.html#c13">
            #13</a> From 
          <a href="mailto:axel.grude&#64;gmail.com">Axel Grude</a>
          2019-07-28 07:14:30 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi@id=26546.html#c9">comment #9</a>)
<span class="quote">&gt; (In reply to <a href="show_bug.cgi@id=26546.html#c8">comment #8</a>)
&gt; &gt; Created an <span class=""><a href="smartTemplate-fx-2.1pre257.xpi" name="attach_8643" title="2.1 pre 257">attachment (id=8643)</a> <a href="https://quickfolders.org/bugzilla/bugs/attachment.cgi?id=8643&amp;action=edit" title="2.1 pre 257">[details]</a></span> [details] [details]
&gt; &gt; 2.1 pre 257
&gt; &gt; 
&gt; &gt; Try the latest pre-release to see whether that fixes it.
&gt; &gt; 
&gt; 
&gt; Unfortunately, pre-release 2.1 did not solve the problem.
&gt; When I choose a template in Stationery dropdown on upper right corner of the
&gt; message window, the Stationery template is loaded but instead of the contents
&gt; of the forwarded message it only appears: undefined, same as before.
&gt; 
&gt; I've tried showing the content forwarded with % quotePlaceholder% and &lt;div
&gt; stationery=&quot;content-placeholder&quot;&gt;&lt;/ div&gt; in my Stationery template and always
&gt; appears undefined
&gt; 
&gt; In the SmartTemplate4 settings I checked &quot;Apply the following template when
&gt; forwarding messages&quot; and &quot;Use in place of the previous message header&quot;, and the
&gt; header and template text area are empty.
&gt; </span >

Can you test again with official 2.1 (which is going to go live next week) and
set back to ASSIGNED if it is still present?
</pre>
    </div>
</div>

</form>

<hr>
<i><font color="#777777">First</font></i>
  <i><font color="#777777">Last</font></i>
  <i><font color="#777777">Prev</font></i>
  <i><font color="#777777">Next</font></i>
  &nbsp;&nbsp;
  <i><font color="#777777">No search results available</font></i>

<br>
</div>



<div id="footer">
  <div class="intro"></div>




<ul id="useful-links">
  <li id="links-actions">
    <div class="label">Actions: </div><ul class="links">
  <li><a href="https://quickfolders.org/bugzilla/bugs/">Home</a></li>
  <li><span class="separator">| </span><a href="https://quickfolders.org/bugzilla/bugs/enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="https://quickfolders.org/bugzilla/bugs/query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="https://quickfolders.org/bugzilla/bugs/buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input class="txt" type="text" name="quicksearch">
    <input class="btn" type="submit" value="Find" id="find_bottom"></form></li>

  <li><span class="separator">| </span><a href="https://quickfolders.org/bugzilla/bugs/report.cgi">Reports</a></li>

  <li>
    <span class="separator">| </span>
      <a href="https://quickfolders.org/bugzilla/bugs/request.cgi">Requests</a></li>


      <li><span class="separator">| </span><a href="https://quickfolders.org/bugzilla/bugs/createaccount.cgi">New&nbsp;Account</a></li>
      



      

        
      <li><span class="separator">| </span><a href="https://quickfolders.org/bugzilla/bugs/show_bug.cgi?id=26546&amp;GoAheadAndLogIn=1">Log&nbsp;In</a></li>
</ul>
  </li>

  
    
    
    

  


  
</ul>

  <div class="outro"></div>
</div>

</body>
</html>