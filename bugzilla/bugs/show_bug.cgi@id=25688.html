<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/html4/loose.dtd">
<html>
  <head>
    <meta name="robots" content="noindex,noarchive,nofollow">
    <title>Bug 25688 &ndash; Creating Filter on IMAP fails after 7 attempts</title>


<link rel="Top" href="https://www.mozdev.org/bugs/">

  

  


  
    <link rel="Show" title="Dependency Tree"
          href="https://www.mozdev.org/bugs/showdependencytree.cgi?id=25688&amp;hide_resolved=1">
      <link rel="Show" title="Dependency Graph"
            href="https://www.mozdev.org/bugs/showdependencygraph.cgi?id=25688">


      <link rel="Show" title="Bug Activity"
            href="https://www.mozdev.org/bugs/show_activity.cgi?id=25688">
      <link rel="Show" title="Printer-Friendly Version"
            href="https://www.mozdev.org/bugs/show_bug.cgi?format=multiple&amp;id=25688">


    

    <script type="text/javascript">
  <!--
  
  function initHelp() {}
  // -->
  </script>

    

    
      <link href="https://www.mozdev.org/bugs/skins/standard/global.css"
            rel="stylesheet"
            type="text/css">
    <!--[if IE]>
      
      <link href="skins/standard/IE-fixes.css"
            rel="stylesheet"
            type="text/css">
    <![endif]-->

    
        <link href="https://www.mozdev.org/bugs/skins/standard/global.css"
              rel="stylesheet"
              title="Classic"
              type="text/css">
      <!--[if IE]>
        
        <link href="skins/standard/IE-fixes.css"
              rel="stylesheet"
              title="Classic"
              type="text/css">
      <![endif]-->

    

    

    
        <link href="https://www.mozdev.org/bugs/skins/custom/global.css" rel="stylesheet" type="text/css">
    <!--[if IE]>
      
      <link href="skins/custom/IE-fixes.css"
            rel="stylesheet"
            type="text/css">
    <![endif]-->

    <link href="https://www.mozdev.org/sharedimages/mozdev-icon.png" rel="icon" type="image/png">
    

    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="Bugzilla@Mozdev" href="https://www.mozdev.org/bugs/search_plugin.cgi">
                                          
  </head>



  <body onload=""
        class="www-mozdev-org-bugs bz_bug bz_status_RESOLVED bz_component_General bz_bug_25688">




<div id="header">
<div id="banner">
  </div>

<div id="mozdev-logolet">
<table border="0" cellspacing="0" cellpadding="0" id="titles">
<tr>
    <td id="title">
      <p>Bugzilla@Mozdev &ndash; Bug&nbsp;25688</p>
    </td>

    <td id="subtitle">
      <p class="subheader">Creating Filter on IMAP fails after 7 attempts</p>
    </td>

    <td id="information">
      <p class="header_addl_info">Last modified: 2016-01-09 09:23:37</p>
    </td>
</tr>
</table>
</div>

<ul class="links">
  <li><a href="https://www.mozdev.org/bugs/">Home</a></li>
  <li><span class="separator">| </span><a href="https://www.mozdev.org/bugs/enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="https://www.mozdev.org/bugs/query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="https://www.mozdev.org/bugs/buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input class="txt" type="text" name="quicksearch">
    <input class="btn" type="submit" value="Find" id="find_top"></form></li>

  <li><span class="separator">| </span><a href="https://www.mozdev.org/bugs/report.cgi">Reports</a></li>

  <li>
    <span class="separator">| </span>
      <a href="https://www.mozdev.org/bugs/request.cgi">Requests</a></li>


      <li><span class="separator">| </span><a href="https://www.mozdev.org/bugs/createaccount.cgi">New&nbsp;Account</a></li>
      



      

        
      <li><span class="separator">| </span><a href="https://www.mozdev.org/bugs/show_bug.cgi?id=25688&amp;GoAheadAndLogIn=1">Log&nbsp;In</a></li>
</ul>

</div>

<div id="bugzilla-body">

<i><font color="#777777">First</font></i>
  <i><font color="#777777">Last</font></i>
  <i><font color="#777777">Prev</font></i>
  <i><font color="#777777">Next</font></i>
  &nbsp;&nbsp;
  <i><font color="#777777">No search results available</font></i>

<hr>
<script type="text/javascript">
  <!--

  /* Outputs a link to call replyToComment(); used to reduce HTML output */
  function addReplyLink(id) {
      /* XXX this should really be updated to use the DOM Core's
       * createElement, but finding a container isn't trivial.
       */
      document.write('[<a href="#add_comment" onclick="replyToComment(' + 
                     id + ');">reply<' + '/a>]');
  }

  /* Adds the reply text to the `comment' textarea */
  function replyToComment(id) {
      /* pre id="comment_name_N" */
      var text_elem = document.getElementById('comment_text_'+id);
      var text = getText(text_elem);

      /* make sure we split on all newlines -- IE or Moz use \r and \n
       * respectively.
       */
      text = text.split(/\r|\n/);

      var replytext = "";
      for (var i=0; i < text.length; i++) {
          replytext += "> " + text[i] + "\n"; 
      }

      replytext = "(In reply to comment #" + id + ")\n" + replytext + "\n";


      /* <textarea id="comment"> */
      var textarea = document.getElementById('comment');
      textarea.value += replytext;

      textarea.focus();
  }

  if (typeof Node == 'undefined') {
      /* MSIE doesn't define Node, so provide a compatibility object */
      window.Node = {
          TEXT_NODE: 3,
          ENTITY_REFERENCE_NODE: 5
      };
  }

  /* Concatenates all text from element's childNodes. This is used
   * instead of innerHTML because we want the actual text (and
   * innerText is non-standard).
   */
  function getText(element) {
      var child, text = "";
      for (var i=0; i < element.childNodes.length; i++) {
          child = element.childNodes[i];
          var type = child.nodeType;
          if (type == Node.TEXT_NODE || type == Node.ENTITY_REFERENCE_NODE) {
              text += child.nodeValue;
          } else {
              /* recurse into nodes of other types */
              text += getText(child);
          }
      }
      return text;
  }


  function updateCommentTagControl(checkbox, form) {
      if (checkbox.checked) {
          form.comment.className='bz_private';
      } else {
          form.comment.className='';
      }
  }

  //-->
  </script>

<form name="changeform" method="post" action="https://www.mozdev.org/bugs/process_bug.cgi">

  <input type="hidden" name="delta_ts" value="2016-01-09 09:23:37">
  <input type="hidden" name="longdesclength" value="12">
  <input type="hidden" name="id" value="25688">

  
  <table>
    <tr>
      <td valign="top">
        <fieldset>
          <legend>Details</legend>
          <table>

            
            <tr>
              <td align="right">
                <label for="short_desc" accesskey="s"><b><u>S</u>ummary</b></label>:
              </td><td colspan="2">
       <input type="hidden" name="short_desc" id="short_desc"
              value="Creating Filter on IMAP fails after 7 attempts">Creating Filter on IMAP fails after 7 attempts
  </td>
            </tr>

            <tr>
              <td colspan="3">
                <table>
                  <tr>
                    
                    <td valign="top"><table cellspacing="1" cellpadding="1">
    <tr>
      <td align="right">
        <b>Bug#</b>:
      </td>
      <td>
        <a href="show_bug.cgi@id=25688.html">25688</a>
      </td>
    </tr>


    <tr>
      <td align="right">
        <label for="product" accesskey="p"><b><u>P</u>roduct</b></label>:
      </td><td>
      <input type="hidden" id="product" name="product" value="quickFilters">quickFilters
  </td>
    </tr>

    <tr>
      <td align="right">
        <label for="component" accesskey="m"><b><a href="https://www.mozdev.org/bugs/describecomponents.cgi?product=quickFilters">Co<u>m</u>ponent</a></b></label>:
      </td><td>
      <input type="hidden" id="component" name="component" value="General">General
  </td>
    </tr>

    <tr>
      <td align="right">
        <b><a href="https://www.mozdev.org/bugs/page.cgi?id=fields.html#status">Status</a></b>:
      </td>
      <td>RESOLVED</td>
    </tr>

    <tr>
      <td align="right">
        <b><a href="https://www.mozdev.org/bugs/page.cgi?id=fields.html#resolution">Resolution</a></b>:
      </td>
      <td>FIXED
      </td>
    </tr>
  </table></td>

                    
                    <td valign="top"><table cellspacing="1" cellpadding="1">
    <tr>
      <td align="right">
        <label for="rep_platform" accesskey="h"><b><u>H</u>ardware</b></label>:
      </td><td>
      <input type="hidden" id="rep_platform" name="rep_platform" value="PC">PC
  </td>
    </tr>

    <tr>
      <td align="right">
        <label for="op_sys" accesskey="o"><b><u>O</u>S</b></label>:
      </td><td>
      <input type="hidden" id="op_sys" name="op_sys" value="Mac OS X 10.7">Mac OS X 10.7
  </td>
    </tr>

    <tr>
      <td align="right">
        <label for="version"><b>Version</b></label>:
      </td><td>
      <input type="hidden" id="version" name="version" value="unspecified">unspecified
  </td>
    </tr>

    <tr>
      <td align="right">
        <label for="priority" accesskey="i"><b><a href="https://www.mozdev.org/bugs/page.cgi?id=fields.html#priority">Pr<u>i</u>ority</a></b></label>:
      </td><td>
      <input type="hidden" id="priority" name="priority" value="P1">P1
  </td>
    </tr>

    <tr>
      <td align="right">
        <label for="bug_severity"><b><a href="https://www.mozdev.org/bugs/page.cgi?id=fields.html#bug_severity">Severity</a></b></label>:
      </td><td>
      <input type="hidden" id="bug_severity" name="bug_severity" value="major">major
  </td>
    </tr>

      <tr>
        <td align="right">
          <label for="target_milestone"><b>
            Target Milestone</b></label>:
        </td><td>
      <input type="hidden" id="target_milestone" name="target_milestone" value="---">---
  </td>
      </tr>
  </table></td>
                  </tr>
                </table>
              </td>
            </tr>

            <tr>
              <td colspan="3"><hr size="1"></td>
            </tr>

            

            <tr>
              <td align="right">
                <label for="bug_file_loc" accesskey="u"><b>
                    <u>U</u>RL</b></label>:
              </td><td colspan="2">
       <input type="hidden" name="bug_file_loc" id="bug_file_loc"
              value="">
  </td>
            </tr>

              <tr>
                <td align="right">
                  <label for="status_whiteboard" accesskey="w"><b><u>W</u>hiteboard</b></label>:
                </td><td colspan="2">
       <input type="hidden" name="status_whiteboard" id="status_whiteboard"
              value="">
  </td>
              </tr>

              <tr>
                <td align="right">
                  <label for="keywords" accesskey="k">
                    <b><a href="https://www.mozdev.org/bugs/describekeywords.cgi"><u>K</u>eywords</a></b></label>:
                </td><td colspan="2">
       <input type="hidden" name="keywords" id="keywords"
              value="">
  </td>
              </tr>

            


            

            <tr><th align="right">
    <label for="dependson">Depends&nbsp;on</label>:
  </th>
  <td>
  </td>
  <td>
      <input type="hidden" id="dependson" name="dependson"
             value="">
  </td>
            </tr>

            <tr><th align="right">
    <label for="blocked" accesskey="b"><u>B</u>locks</label>:
  </th>
  <td>
  </td>
  <td>
      <input type="hidden" id="blocked" name="blocked"
             value="">
  </td>
            </tr>

            <tr>
              <th>&nbsp;</th>

              <td colspan="2">
                <a href="https://www.mozdev.org/bugs/showdependencytree.cgi?id=25688&amp;hide_resolved=1">Show
                   dependency tree</a>

                  - <a href="https://www.mozdev.org/bugs/showdependencygraph.cgi?id=25688">Show
                       dependency graph</a>
              </td>
            </tr>
          </table>
        </fieldset>
      </td>

      
      <script type="text/javascript">
        <!--
        var v = document.body.offsetHeight;
        //-->
      </script>

      <td valign="top">
        
        <fieldset>
          <legend>People</legend><table cellpadding="1" cellspacing="1">
    <tr>
      <td align="right">
        <b>Reporter</b>:
      </td>
      <td>
        <a href="mailto:axel.grude&#64;gmail.com">Axel Grude &lt;axel.grude&#64;gmail.com&gt;</a>
      </td>
    </tr>

    <tr>
      <td align="right">
        <b><a href="https://www.mozdev.org/bugs/page.cgi?id=fields.html#assigned_to">Assigned&nbsp;To</a></b>:
      </td>
      <td>
        <a href="mailto:axel.grude&#64;gmail.com">Axel Grude &lt;axel.grude&#64;gmail.com&gt;</a>
      </td>
    </tr>



    <tr>
        <td colspan="2"><input type="hidden" name="cc" value=""></td>
    </tr>
  </table>
        </fieldset>

        
      </td>
    </tr>
  </table>



<script type="text/javascript">
  <!--
  function toggle_display(link) {
    var table = document.getElementById("attachment_table");
    var rows = table.getElementsByTagName("tr");
    var originalHeight = table.offsetHeight; // Store current height for scrolling

    var toggle;
    if (link.innerHTML == "Show Obsolete") {
      toggle = ""; // This should be 'table-row', but IE 6 doesn't understand it.
      link.innerHTML = "Hide Obsolete";
    }
    else {
      toggle = "none";
      link.innerHTML = "Show Obsolete";
    }

    for (var i = 0; i < rows.length; i++) {
      if (rows[i].className.match('bz_tr_obsolete'))
        rows[i].style.display = toggle;
    }

    var newHeight = table.offsetHeight;
    window.scrollBy(0, newHeight - originalHeight);

    return false;
  }
  //-->
</script>

<br>
<table id="attachment_table" cellspacing="0" cellpadding="4">
  <tr>
    <th colspan="3" align="left">
      <a name="a0" id="a0">Attachments</a>
    </th>
  </tr>


      <tr class="
                 bz_tr_obsolete">
        <td valign="top">
            <a name="a1" href="quickFilters-tb-sm-2.3.1pre55.xpi"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">2.3.1 prerelease 55</span></b></a>

          <span class="bz_attach_extra_info">
              (183.18 KB,
                application/x-xpinstall)

            <br>
            <a href="show_bug.cgi@id=25688.html#attach_7773"
               title="Go to the comment associated with the attachment">2014-01-31 18:07</a>,

            <a href="mailto:axel.grude&#64;gmail.com"
               title="Write an email to the creator of the attachment">Axel Grude
            </a>
          </span>
        </td>

          <td class="bz_attach_flags" valign="top">
              <i>no flags</i>
          </td>

        <td valign="top">
          <a href="https://www.mozdev.org/bugs/attachment.cgi?id=7773&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr class="
                 bz_tr_obsolete">
        <td valign="top">
            <a name="a2" href="quickFilters-tb-sm-2.3.1pre58.xpi"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">2.3.1 prerelease 58</span></b></a>

          <span class="bz_attach_extra_info">
              (183.40 KB,
                application/x-xpinstall)

            <br>
            <a href="show_bug.cgi@id=25688.html#attach_7774"
               title="Go to the comment associated with the attachment">2014-02-01 00:25</a>,

            <a href="mailto:axel.grude&#64;gmail.com"
               title="Write an email to the creator of the attachment">Axel Grude
            </a>
          </span>
        </td>

          <td class="bz_attach_flags" valign="top">
              <i>no flags</i>
          </td>

        <td valign="top">
          <a href="https://www.mozdev.org/bugs/attachment.cgi?id=7774&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr class="
                 bz_tr_obsolete">
        <td valign="top">
            <a name="a3" href="quickFilters-tb-sm-2.3.1pre74.xpi"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">2.3.1 prerelease 74</span></b></a>

          <span class="bz_attach_extra_info">
              (184.97 KB,
                application/x-xpinstall)

            <br>
            <a href="show_bug.cgi@id=25688.html#attach_7776"
               title="Go to the comment associated with the attachment">2014-02-03 00:43</a>,

            <a href="mailto:axel.grude&#64;gmail.com"
               title="Write an email to the creator of the attachment">Axel Grude
            </a>
          </span>
        </td>

          <td class="bz_attach_flags" valign="top">
              <i>no flags</i>
          </td>

        <td valign="top">
          <a href="https://www.mozdev.org/bugs/attachment.cgi?id=7776&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr class="
                 bz_tr_obsolete">
        <td valign="top">
            <a name="a4" href="quickFilters-tb-sm-2.3.1pre75.xpi"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">2.3.1 prerelease 75</span></b></a>

          <span class="bz_attach_extra_info">
              (185.06 KB,
                application/x-xpinstall)

            <br>
            <a href="show_bug.cgi@id=25688.html#attach_7778"
               title="Go to the comment associated with the attachment">2014-02-03 18:42</a>,

            <a href="mailto:axel.grude&#64;gmail.com"
               title="Write an email to the creator of the attachment">Axel Grude
            </a>
          </span>
        </td>

          <td class="bz_attach_flags" valign="top">
              <i>no flags</i>
          </td>

        <td valign="top">
          <a href="https://www.mozdev.org/bugs/attachment.cgi?id=7778&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr class="
                 bz_tr_obsolete">
        <td valign="top">
            <a name="a5" href="quickFilters-tb-sm-2.3.1pre91.xpi"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">2.3.1 prerelease 91</span></b></a>

          <span class="bz_attach_extra_info">
              (185.63 KB,
                application/x-xpinstall)

            <br>
            <a href="show_bug.cgi@id=25688.html#attach_7781"
               title="Go to the comment associated with the attachment">2014-02-11 13:15</a>,

            <a href="mailto:axel.grude&#64;gmail.com"
               title="Write an email to the creator of the attachment">Axel Grude
            </a>
          </span>
        </td>

          <td class="bz_attach_flags" valign="top">
              <i>no flags</i>
          </td>

        <td valign="top">
          <a href="https://www.mozdev.org/bugs/attachment.cgi?id=7781&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr class="
                 bz_tr_obsolete">
        <td valign="top">
            <a name="a6" href="quickFilters-tb-sm-2.3.1pre93.xpi"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">2.3.1 prerelease 93</span></b></a>

          <span class="bz_attach_extra_info">
              (185.85 KB,
                application/x-xpinstall)

            <br>
            <a href="show_bug.cgi@id=25688.html#attach_7787"
               title="Go to the comment associated with the attachment">2014-02-15 13:41</a>,

            <a href="mailto:axel.grude&#64;gmail.com"
               title="Write an email to the creator of the attachment">Axel Grude
            </a>
          </span>
        </td>

          <td class="bz_attach_flags" valign="top">
              <i>no flags</i>
          </td>

        <td valign="top">
          <a href="https://www.mozdev.org/bugs/attachment.cgi?id=7787&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr class="
                 bz_tr_obsolete">
        <td valign="top">
            <a name="a7" href="quickFilters-tb-sm-2.3.1pre101.xpi"
               title="View the content of the attachment">
          <b><span class="bz_obsolete">2.3.1 prerelease 101</span></b></a>

          <span class="bz_attach_extra_info">
              (188.05 KB,
                application/x-xpinstall)

            <br>
            <a href="show_bug.cgi@id=25688.html#attach_7789"
               title="Go to the comment associated with the attachment">2014-02-19 15:21</a>,

            <a href="mailto:axel.grude&#64;gmail.com"
               title="Write an email to the creator of the attachment">Axel Grude
            </a>
          </span>
        </td>

          <td class="bz_attach_flags" valign="top">
              <i>no flags</i>
          </td>

        <td valign="top">
          <a href="https://www.mozdev.org/bugs/attachment.cgi?id=7789&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr class="
                 ">
        <td valign="top">
            <a name="a8" href="quickFilters-tb-pb-sm-3.0.2pre3.xpi"
               title="View the content of the attachment">
          <b>quickFilters 3.0.2 Prerelease 3</b></a>

          <span class="bz_attach_extra_info">
              (287.65 KB,
                application/x-xpinstall)

            <br>
            <a href="show_bug.cgi@id=25688.html#attach_8129"
               title="Go to the comment associated with the attachment">2015-11-29 04:15</a>,

            <a href="mailto:axel.grude&#64;gmail.com"
               title="Write an email to the creator of the attachment">Axel Grude
            </a>
          </span>
        </td>

          <td class="bz_attach_flags" valign="top">
              <i>no flags</i>
          </td>

        <td valign="top">
          <a href="https://www.mozdev.org/bugs/attachment.cgi?id=8129&amp;action=edit">Details</a>
        </td>
      </tr>

  <tr class="bz_attach_footer">
    <td colspan="3">
        <span class="bz_attach_view_hide">
            <a href="show_bug.cgi@id=25688.html#a0" onClick="return toggle_display(this);">Hide Obsolete</a> (7)
        </span>
      <a href="https://www.mozdev.org/bugs/attachment.cgi?bugid=25688&amp;action=enter">Add an attachment</a>
      (proposed patch, testcase, etc.)
    </td>
  </tr>
</table>
<br>




  <br>
  <table cellpadding="1" cellspacing="1">
    <tr>
      <td>
          <fieldset>
            <legend>Note</legend>
            <p>
              You need to
              <a href="https://www.mozdev.org/bugs/show_bug.cgi?id=25688&amp;GoAheadAndLogIn=1">log in</a>
              before you can comment on or make changes to this bug.
            </p>
          </fieldset>
      </td>

      <td valign="top">
        <fieldset>
          <legend>Related actions</legend>
          <ul>
            <li><a href="https://www.mozdev.org/bugs/show_activity.cgi?id=25688">View Bug Activity</a></li>
            <li><a href="https://www.mozdev.org/bugs/show_bug.cgi?format=multiple&amp;id=25688">Format For Printing</a></li>
            <li><a href="https://www.mozdev.org/bugs/show_bug.cgi?ctype=xml&amp;id=25688">XML</a></li>
            <li><a href="https://www.mozdev.org/bugs/enter_bug.cgi?cloned_bug_id=25688">Clone This Bug</a></li>
          </ul>


          
        </fieldset>
      </td>
    </tr>
  </table>
  <br>





<hr>

<div id="comments"><script type="text/javascript">
  <!--
  function updateCommentPrivacy(checkbox, id) {
    var comment_elem = document.getElementById('comment_text_'+id).parentNode;
    if (checkbox.checked) {
      if (!comment_elem.className.match('bz_private')) {
        comment_elem.className = comment_elem.className.concat(' bz_private');
      }
    }
    else {
      comment_elem.className =
        comment_elem.className.replace(/(\s*|^)bz_private(\s*|$)/, '$2');
    }
  }
  //-->
  </script>








<div class="bz_comment">
        <table>
          <tr>
            <th align="left">
              <b><a name="c0" href="show_bug.cgi@id=25688.html#c0">
                Description</a>:</b>&nbsp;&nbsp;
            </th>
            <td align="left" width="30%">
              <b>Opened:</b> 2014-01-31 13:57
            </td>
          </tr>
        </table>
        


<pre class="bz_comment_text" >When dragging an email with Filter active in Postbox, I am getting the error:

&quot;Tried to create a filter 7 times, but it didn't work out&quot;

Error log:

quickFilters 14:2:33.784  [0 ms]  
No targetFolder.msgDatabase!
 ----------
quickFilters 14:2:33.785  [1 ms]  
Cannot get messageHeader for messageId
[<a href="mailto:2199-329-LI37JS-ORGR87-TUUFKF-AY6CSF-ZB8UJKX-H-M2-20140130-326cdb44ebb7xxx@xxxxx.com">2199-329-LI37JS-ORGR87-TUUFKF-AY6CSF-ZB8UJKX-H-M2-20140130-326cdb44ebb7xxx@xxxxx.com</a>]-
attempting rerun()...
 ----------
quickFilters {CREATEFILTER} 14:2:33.785  [0 ms]  
createFilterAsync - createFilter returned: 0
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c1" href="show_bug.cgi@id=25688.html#c1">
            #1</a> From 
          <a href="mailto:axel.grude&#64;gmail.com">Axel Grude</a>
          2014-01-31 14:00:55 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" >Note: this is caused by a missing msgDatabase on the folder, which should
normally not happen. I am currently working on an alternative method of getting
at the message detail, in case this fails.

The question is whether the user should be informed of this and whether
repairing or opening the folder can resolve this situation.
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c2" href="show_bug.cgi@id=25688.html#c2">
            #2</a> From 
          <a href="mailto:axel.grude&#64;gmail.com">Axel Grude</a>
          2014-01-31 18:07:35 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" ><span class="bz_obsolete"><a href="quickFilters-tb-sm-2.3.1pre55.xpi" name="attach_7773" title="2.3.1 prerelease 55">Created an attachment (id=7773)</a> <a href="https://www.mozdev.org/bugs/attachment.cgi?id=7773&amp;action=edit" title="2.3.1 prerelease 55">[details]</a></span>
2.3.1 prerelease 55

Here is a first prototype that tries to deal with the problem by retrieving the
nsIMsgDBHdr from the messages as they are dropped / copied so we can avoid
asking the target folder (in case its database is locked or invalid). There is
a slight danger that the header information is invalid in the meantime so this
needs to be tested for a while before it can go into production...
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c3" href="show_bug.cgi@id=25688.html#c3">
            #3</a> From 
          <a href="mailto:axel.grude&#64;gmail.com">Axel Grude</a>
          2014-02-01 00:25:27 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" ><span class="bz_obsolete"><a href="quickFilters-tb-sm-2.3.1pre58.xpi" name="attach_7774" title="2.3.1 prerelease 58">Created an attachment (id=7774)</a> <a href="https://www.mozdev.org/bugs/attachment.cgi?id=7774&amp;action=edit" title="2.3.1 prerelease 58">[details]</a></span>
2.3.1 prerelease 58

This version adds backwards compatibility with the QuickFolders addon: when
moving a message to a folder by dragging it to a QF-tab the message Header
might be temporarily not available - this version does some silent retries over
a period of 1 second if this happens. (Typically 100ms should be enough).
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c4" href="show_bug.cgi@id=25688.html#c4">
            #4</a> From 
          <a href="mailto:axel.grude&#64;gmail.com">Axel Grude</a>
          2014-02-03 00:43:52 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" ><span class="bz_obsolete"><a href="quickFilters-tb-sm-2.3.1pre74.xpi" name="attach_7776" title="2.3.1 prerelease 74">Created an attachment (id=7776)</a> <a href="https://www.mozdev.org/bugs/attachment.cgi?id=7776&amp;action=edit" title="2.3.1 prerelease 74">[details]</a></span>
2.3.1 prerelease 74

another version - when dragging messages into the folder tree it is hard to
tell when Postbox exactly does the move when quickFilters reacts to the drag
event, so the filter code needs to be able to restore the missing message
header information from the target folder in case it is invalidated and the
messages were moved into the folder in the meantime. This should be more
resilient than the previous implementation.

This version also implements the filter assistant when using Postbox's
quickmove feature (pushing the [V] key to move messages to a folder)
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c5" href="show_bug.cgi@id=25688.html#c5">
            #5</a> From 
          <a href="mailto:axel.grude&#64;gmail.com">Axel Grude</a>
          2014-02-03 18:42:49 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" ><span class="bz_obsolete"><a href="quickFilters-tb-sm-2.3.1pre75.xpi" name="attach_7778" title="2.3.1 prerelease 75">Created an attachment (id=7778)</a> <a href="https://www.mozdev.org/bugs/attachment.cgi?id=7778&amp;action=edit" title="2.3.1 prerelease 75">[details]</a></span>
2.3.1 prerelease 75

Added one more fallback code for Postbox in case the message database was
invalidated during the displaying of the filter assistant window. This version
will rebuild the necessary message Header data at every point after an
interaction so that it can be safely entered into the message filter edit
dialog.
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c6" href="show_bug.cgi@id=25688.html#c6">
            #6</a> From 
          <a href="mailto:axel.grude&#64;gmail.com">Axel Grude</a>
          2014-02-11 13:15:48 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" ><span class="bz_obsolete"><a href="quickFilters-tb-sm-2.3.1pre91.xpi" name="attach_7781" title="2.3.1 prerelease 91">Created an attachment (id=7781)</a> <a href="https://www.mozdev.org/bugs/attachment.cgi?id=7781&amp;action=edit" title="2.3.1 prerelease 91">[details]</a></span>
2.3.1 prerelease 91

Tries to address the message database not being ready in Postbox, it will retry
after 400ms, for 5 times altogether. This method is better than the previous
method as it actually tries to rebuild the information from the message
database as it can be invalidated in the meantime, which seems to be especially
likely on Postbox.
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c7" href="show_bug.cgi@id=25688.html#c7">
            #7</a> From 
          <a href="mailto:axel.grude&#64;gmail.com">Axel Grude</a>
          2014-02-15 13:41:49 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" ><span class="bz_obsolete"><a href="quickFilters-tb-sm-2.3.1pre93.xpi" name="attach_7787" title="2.3.1 prerelease 93">Created an attachment (id=7787)</a> <a href="https://www.mozdev.org/bugs/attachment.cgi?id=7787&amp;action=edit" title="2.3.1 prerelease 93">[details]</a></span>
2.3.1 prerelease 93

This is the last prerelease before the full release; it is pretty good at
dealing with most of the problems but in POstbox only when you transfer an
email across to a different IMAP account (move a mail to a folder in another
IMAP account) it still fails, because the message Database of the target folder
apparently never gets ready until you open the folder manually. I have written
to the guys at postbox about this problem to find a programmatical solution
against this, and am currently giving an error message that offers two
workarounds. 

I am keeping the bug open in the meantime.
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c8" href="show_bug.cgi@id=25688.html#c8">
            #8</a> From 
          <a href="mailto:axel.grude&#64;gmail.com">Axel Grude</a>
          2014-02-19 15:21:43 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" ><span class="bz_obsolete"><a href="quickFilters-tb-sm-2.3.1pre101.xpi" name="attach_7789" title="2.3.1 prerelease 101">Created an attachment (id=7789)</a> <a href="https://www.mozdev.org/bugs/attachment.cgi?id=7789&amp;action=edit" title="2.3.1 prerelease 101">[details]</a></span>
2.3.1 prerelease 101

In this version, I am grabbing the header information as early as I can and
copy it to a &quot;cloned&quot; area, so even if it is going to get lost during the move
to an IMAP folder the chances are that the filter can be created successfully.
The only exception would be the case when the header information can never be
got, neither from the source folder neither the target folder. 

This case seems to be a much rarer occurrence. With this version I managed to
move emails across different IMAP accounts, both with Postbox and Thunderbird.
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c9" href="show_bug.cgi@id=25688.html#c9">
            #9</a> From 
          <a href="mailto:axel.grude&#64;gmail.com">Axel Grude</a>
          2015-11-29 04:07:30 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" >This was still not fully solved in version 3.0.1 as I recently got a report
from another user. After the recent change (I wrapped the various Mozilla
functions MsgMoveMessage and MsgCopyMessage) a user found that the preparation
code for the assistant (which captures the Messages List for later processing)
was even called with the Assistant being switched off. When I fixed this I also
discovered that it is better to do the preparation for the &quot;cloned messages&quot;
headers which I have used to make the assistant's data gathering process more
reliable can be done at a much earlier stage; so I added this as first thing
before I call any other code which has to do with invoking the filter assistant
and building a filter.


This should hopefully make this message a thing of the past. I will upload a
new prerelease next.
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c10" href="show_bug.cgi@id=25688.html#c10">
            #10</a> From 
          <a href="mailto:axel.grude&#64;gmail.com">Axel Grude</a>
          2015-11-29 04:15:20 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" ><span class=""><a href="quickFilters-tb-pb-sm-3.0.2pre3.xpi" name="attach_8129" title="quickFilters 3.0.2 Prerelease 3">Created an attachment (id=8129)</a> <a href="https://www.mozdev.org/bugs/attachment.cgi?id=8129&amp;action=edit" title="quickFilters 3.0.2 Prerelease 3">[details]</a></span>
quickFilters 3.0.2 Prerelease 3

Major change: I have wrapped the move / copy procedures in Mozilla, so I now I
can make my &quot;safe copied&quot; (clones) of the message headers at a much earlier
stage. This should mean that the messages (and the message database) are not
&quot;locked&quot; in some way by the moving/copying process, so hopefully this will
resolve the problem.
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c11" href="show_bug.cgi@id=25688.html#c11">
            #11</a> From 
          <a href="mailto:axel.grude&#64;gmail.com">Axel Grude</a>
          2016-01-09 09:23:37 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" >Final Fix: Version 3.0.2 - Released December 5, 2015
</pre>
    </div>
</div>

</form>

<hr>
<i><font color="#777777">First</font></i>
  <i><font color="#777777">Last</font></i>
  <i><font color="#777777">Prev</font></i>
  <i><font color="#777777">Next</font></i>
  &nbsp;&nbsp;
  <i><font color="#777777">No search results available</font></i>

<br>
</div>



<div id="footer">
  <div class="intro"></div>




<ul id="useful-links">
  <li id="links-actions">
    <div class="label">Actions: </div><ul class="links">
  <li><a href="https://www.mozdev.org/bugs/">Home</a></li>
  <li><span class="separator">| </span><a href="https://www.mozdev.org/bugs/enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="https://www.mozdev.org/bugs/query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="https://www.mozdev.org/bugs/buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input class="txt" type="text" name="quicksearch">
    <input class="btn" type="submit" value="Find" id="find_bottom"></form></li>

  <li><span class="separator">| </span><a href="https://www.mozdev.org/bugs/report.cgi">Reports</a></li>

  <li>
    <span class="separator">| </span>
      <a href="https://www.mozdev.org/bugs/request.cgi">Requests</a></li>


      <li><span class="separator">| </span><a href="https://www.mozdev.org/bugs/createaccount.cgi">New&nbsp;Account</a></li>
      



      

        
      <li><span class="separator">| </span><a href="https://www.mozdev.org/bugs/show_bug.cgi?id=25688&amp;GoAheadAndLogIn=1">Log&nbsp;In</a></li>
</ul>
  </li>

  
    
    
    

  


  
</ul>

  <div class="outro"></div>
</div>

</body>
</html>