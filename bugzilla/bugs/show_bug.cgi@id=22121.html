<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/html4/loose.dtd">
<html>
  <head>
    <meta name="robots" content="noindex,noarchive,nofollow">
    <title>Bug 22121 &ndash; Re-ordering QF tabs via Drag'n'Drop does not work</title>


<link rel="Top" href="https://www.mozdev.org/bugs/">

  

  


  
    <link rel="Show" title="Dependency Tree"
          href="https://www.mozdev.org/bugs/showdependencytree.cgi?id=22121&amp;hide_resolved=1">
      <link rel="Show" title="Dependency Graph"
            href="https://www.mozdev.org/bugs/showdependencygraph.cgi?id=22121">


      <link rel="Show" title="Bug Activity"
            href="https://www.mozdev.org/bugs/show_activity.cgi?id=22121">
      <link rel="Show" title="Printer-Friendly Version"
            href="https://www.mozdev.org/bugs/show_bug.cgi?format=multiple&amp;id=22121">


    

    <script type="text/javascript">
  <!--
  
  function initHelp() {}
  // -->
  </script>

    

    
      <link href="https://www.mozdev.org/bugs/skins/standard/global.css"
            rel="stylesheet"
            type="text/css">
    <!--[if IE]>
      
      <link href="skins/standard/IE-fixes.css"
            rel="stylesheet"
            type="text/css">
    <![endif]-->

    
        <link href="https://www.mozdev.org/bugs/skins/standard/global.css"
              rel="stylesheet"
              title="Classic"
              type="text/css">
      <!--[if IE]>
        
        <link href="skins/standard/IE-fixes.css"
              rel="stylesheet"
              title="Classic"
              type="text/css">
      <![endif]-->

    

    

    
        <link href="https://www.mozdev.org/bugs/skins/custom/global.css" rel="stylesheet" type="text/css">
    <!--[if IE]>
      
      <link href="skins/custom/IE-fixes.css"
            rel="stylesheet"
            type="text/css">
    <![endif]-->

    <link href="https://www.mozdev.org/sharedimages/mozdev-icon.png" rel="icon" type="image/png">
    

    
    <link rel="search" type="application/opensearchdescription+xml"
                       title="Bugzilla@Mozdev" href="https://www.mozdev.org/bugs/search_plugin.cgi">
                                          
  </head>



  <body onload=""
        class="www-mozdev-org-bugs bz_bug bz_status_RESOLVED bz_component_General bz_bug_22121">




<div id="header">
<div id="banner">
  </div>

<div id="mozdev-logolet">
<table border="0" cellspacing="0" cellpadding="0" id="titles">
<tr>
    <td id="title">
      <p>Bugzilla@Mozdev &ndash; Bug&nbsp;22121</p>
    </td>

    <td id="subtitle">
      <p class="subheader">Re-ordering QF tabs via Drag'n'Drop does not work</p>
    </td>

    <td id="information">
      <p class="header_addl_info">Last modified: 2010-09-06 15:41:07</p>
    </td>
</tr>
</table>
</div>

<ul class="links">
  <li><a href="https://www.mozdev.org/bugs/">Home</a></li>
  <li><span class="separator">| </span><a href="https://www.mozdev.org/bugs/enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="https://www.mozdev.org/bugs/query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="https://www.mozdev.org/bugs/buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input class="txt" type="text" name="quicksearch">
    <input class="btn" type="submit" value="Find" id="find_top"></form></li>

  <li><span class="separator">| </span><a href="https://www.mozdev.org/bugs/report.cgi">Reports</a></li>

  <li>
    <span class="separator">| </span>
      <a href="https://www.mozdev.org/bugs/request.cgi">Requests</a></li>


      <li><span class="separator">| </span><a href="https://www.mozdev.org/bugs/createaccount.cgi">New&nbsp;Account</a></li>
      



      

        
      <li><span class="separator">| </span><a href="https://www.mozdev.org/bugs/show_bug.cgi?id=22121&amp;GoAheadAndLogIn=1">Log&nbsp;In</a></li>
</ul>

</div>

<div id="bugzilla-body">

<i><font color="#777777">First</font></i>
  <i><font color="#777777">Last</font></i>
  <i><font color="#777777">Prev</font></i>
  <i><font color="#777777">Next</font></i>
  &nbsp;&nbsp;
  <i><font color="#777777">No search results available</font></i>

<hr>
<script type="text/javascript">
  <!--

  /* Outputs a link to call replyToComment(); used to reduce HTML output */
  function addReplyLink(id) {
      /* XXX this should really be updated to use the DOM Core's
       * createElement, but finding a container isn't trivial.
       */
      document.write('[<a href="#add_comment" onclick="replyToComment(' + 
                     id + ');">reply<' + '/a>]');
  }

  /* Adds the reply text to the `comment' textarea */
  function replyToComment(id) {
      /* pre id="comment_name_N" */
      var text_elem = document.getElementById('comment_text_'+id);
      var text = getText(text_elem);

      /* make sure we split on all newlines -- IE or Moz use \r and \n
       * respectively.
       */
      text = text.split(/\r|\n/);

      var replytext = "";
      for (var i=0; i < text.length; i++) {
          replytext += "> " + text[i] + "\n"; 
      }

      replytext = "(In reply to comment #" + id + ")\n" + replytext + "\n";


      /* <textarea id="comment"> */
      var textarea = document.getElementById('comment');
      textarea.value += replytext;

      textarea.focus();
  }

  if (typeof Node == 'undefined') {
      /* MSIE doesn't define Node, so provide a compatibility object */
      window.Node = {
          TEXT_NODE: 3,
          ENTITY_REFERENCE_NODE: 5
      };
  }

  /* Concatenates all text from element's childNodes. This is used
   * instead of innerHTML because we want the actual text (and
   * innerText is non-standard).
   */
  function getText(element) {
      var child, text = "";
      for (var i=0; i < element.childNodes.length; i++) {
          child = element.childNodes[i];
          var type = child.nodeType;
          if (type == Node.TEXT_NODE || type == Node.ENTITY_REFERENCE_NODE) {
              text += child.nodeValue;
          } else {
              /* recurse into nodes of other types */
              text += getText(child);
          }
      }
      return text;
  }


  function updateCommentTagControl(checkbox, form) {
      if (checkbox.checked) {
          form.comment.className='bz_private';
      } else {
          form.comment.className='';
      }
  }

  //-->
  </script>

<form name="changeform" method="post" action="https://www.mozdev.org/bugs/process_bug.cgi">

  <input type="hidden" name="delta_ts" value="2010-09-06 15:41:07">
  <input type="hidden" name="longdesclength" value="9">
  <input type="hidden" name="id" value="22121">

  
  <table>
    <tr>
      <td valign="top">
        <fieldset>
          <legend>Details</legend>
          <table>

            
            <tr>
              <td align="right">
                <label for="short_desc" accesskey="s"><b><u>S</u>ummary</b></label>:
              </td><td colspan="2">
       <input type="hidden" name="short_desc" id="short_desc"
              value="Re-ordering QF tabs via Drag'n'Drop does not work">Re-ordering QF tabs via Drag'n'Drop does not work
  </td>
            </tr>

            <tr>
              <td colspan="3">
                <table>
                  <tr>
                    
                    <td valign="top"><table cellspacing="1" cellpadding="1">
    <tr>
      <td align="right">
        <b>Bug#</b>:
      </td>
      <td>
        <a href="show_bug.cgi@id=22121.html">22121</a>
      </td>
    </tr>


    <tr>
      <td align="right">
        <label for="product" accesskey="p"><b><u>P</u>roduct</b></label>:
      </td><td>
      <input type="hidden" id="product" name="product" value="QuickFolders">QuickFolders
  </td>
    </tr>

    <tr>
      <td align="right">
        <label for="component" accesskey="m"><b><a href="https://www.mozdev.org/bugs/describecomponents.cgi?product=QuickFolders">Co<u>m</u>ponent</a></b></label>:
      </td><td>
      <input type="hidden" id="component" name="component" value="General">General
  </td>
    </tr>

    <tr>
      <td align="right">
        <b><a href="https://www.mozdev.org/bugs/page.cgi?id=fields.html#status">Status</a></b>:
      </td>
      <td>RESOLVED</td>
    </tr>

    <tr>
      <td align="right">
        <b><a href="https://www.mozdev.org/bugs/page.cgi?id=fields.html#resolution">Resolution</a></b>:
      </td>
      <td>FIXED
      </td>
    </tr>
  </table></td>

                    
                    <td valign="top"><table cellspacing="1" cellpadding="1">
    <tr>
      <td align="right">
        <label for="rep_platform" accesskey="h"><b><u>H</u>ardware</b></label>:
      </td><td>
      <input type="hidden" id="rep_platform" name="rep_platform" value="PC">PC
  </td>
    </tr>

    <tr>
      <td align="right">
        <label for="op_sys" accesskey="o"><b><u>O</u>S</b></label>:
      </td><td>
      <input type="hidden" id="op_sys" name="op_sys" value="Linux">Linux
  </td>
    </tr>

    <tr>
      <td align="right">
        <label for="version"><b>Version</b></label>:
      </td><td>
      <input type="hidden" id="version" name="version" value="unspecified">unspecified
  </td>
    </tr>

    <tr>
      <td align="right">
        <label for="priority" accesskey="i"><b><a href="https://www.mozdev.org/bugs/page.cgi?id=fields.html#priority">Pr<u>i</u>ority</a></b></label>:
      </td><td>
      <input type="hidden" id="priority" name="priority" value="P2">P2
  </td>
    </tr>

    <tr>
      <td align="right">
        <label for="bug_severity"><b><a href="https://www.mozdev.org/bugs/page.cgi?id=fields.html#bug_severity">Severity</a></b></label>:
      </td><td>
      <input type="hidden" id="bug_severity" name="bug_severity" value="normal">normal
  </td>
    </tr>

      <tr>
        <td align="right">
          <label for="target_milestone"><b>
            Target Milestone</b></label>:
        </td><td>
      <input type="hidden" id="target_milestone" name="target_milestone" value="---">---
  </td>
      </tr>
  </table></td>
                  </tr>
                </table>
              </td>
            </tr>

            <tr>
              <td colspan="3"><hr size="1"></td>
            </tr>

            

            <tr>
              <td align="right">
                <label for="bug_file_loc" accesskey="u"><b>
                    <u>U</u>RL</b></label>:
              </td><td colspan="2">
       <input type="hidden" name="bug_file_loc" id="bug_file_loc"
              value="">
  </td>
            </tr>

              <tr>
                <td align="right">
                  <label for="status_whiteboard" accesskey="w"><b><u>W</u>hiteboard</b></label>:
                </td><td colspan="2">
       <input type="hidden" name="status_whiteboard" id="status_whiteboard"
              value="">
  </td>
              </tr>

              <tr>
                <td align="right">
                  <label for="keywords" accesskey="k">
                    <b><a href="https://www.mozdev.org/bugs/describekeywords.cgi"><u>K</u>eywords</a></b></label>:
                </td><td colspan="2">
       <input type="hidden" name="keywords" id="keywords"
              value="">
  </td>
              </tr>

            


            

            <tr><th align="right">
    <label for="dependson">Depends&nbsp;on</label>:
  </th>
  <td>
  </td>
  <td>
      <input type="hidden" id="dependson" name="dependson"
             value="">
  </td>
            </tr>

            <tr><th align="right">
    <label for="blocked" accesskey="b"><u>B</u>locks</label>:
  </th>
  <td>
  </td>
  <td>
      <input type="hidden" id="blocked" name="blocked"
             value="">
  </td>
            </tr>

            <tr>
              <th>&nbsp;</th>

              <td colspan="2">
                <a href="https://www.mozdev.org/bugs/showdependencytree.cgi?id=22121&amp;hide_resolved=1">Show
                   dependency tree</a>

                  - <a href="https://www.mozdev.org/bugs/showdependencygraph.cgi?id=22121">Show
                       dependency graph</a>
              </td>
            </tr>
          </table>
        </fieldset>
      </td>

      
      <script type="text/javascript">
        <!--
        var v = document.body.offsetHeight;
        //-->
      </script>

      <td valign="top">
        
        <fieldset>
          <legend>People</legend><table cellpadding="1" cellspacing="1">
    <tr>
      <td align="right">
        <b>Reporter</b>:
      </td>
      <td>
        <a href="mailto:m.duelli&#64;web.de">Michael Duelli &lt;m.duelli&#64;web.de&gt;</a>
      </td>
    </tr>

    <tr>
      <td align="right">
        <b><a href="https://www.mozdev.org/bugs/page.cgi?id=fields.html#assigned_to">Assigned&nbsp;To</a></b>:
      </td>
      <td>
        <a href="mailto:axel.grude&#64;gmail.com">Axel Grude &lt;axel.grude&#64;gmail.com&gt;</a>
      </td>
    </tr>



    <tr>
        <td align="right" valign="top">
          <label for="cc"><b>CC</b></label>:
        </td>
        <td valign="top">
          <select id="cc" name="cc" multiple="multiple" size="5">
            <option value="alexandermalfait&#64;gmail.com">alexandermalfait&#64;gmail.com</option>
            <option value="axelg&#64;gofree.indigo.ie">axelg&#64;gofree.indigo.ie</option>
          </select>
        </td>
    </tr>
  </table>
        </fieldset>

        
      </td>
    </tr>
  </table>



<script type="text/javascript">
  <!--
  function toggle_display(link) {
    var table = document.getElementById("attachment_table");
    var rows = table.getElementsByTagName("tr");
    var originalHeight = table.offsetHeight; // Store current height for scrolling

    var toggle;
    if (link.innerHTML == "Show Obsolete") {
      toggle = ""; // This should be 'table-row', but IE 6 doesn't understand it.
      link.innerHTML = "Hide Obsolete";
    }
    else {
      toggle = "none";
      link.innerHTML = "Show Obsolete";
    }

    for (var i = 0; i < rows.length; i++) {
      if (rows[i].className.match('bz_tr_obsolete'))
        rows[i].style.display = toggle;
    }

    var newHeight = table.offsetHeight;
    window.scrollBy(0, newHeight - originalHeight);

    return false;
  }
  //-->
</script>

<br>
<table id="attachment_table" cellspacing="0" cellpadding="4">
  <tr>
    <th colspan="3" align="left">
      <a name="a0" id="a0">Attachments</a>
    </th>
  </tr>


      <tr class="
                 ">
        <td valign="top">
            <a name="a1" href="QuickFolders-tb-pb-1.7pre1.xpi"
               title="View the content of the attachment">
          <b>Test version for Drag &amp; Drop in TB3.01</b></a>

          <span class="bz_attach_extra_info">
              (147.07 KB,
                application/x-xpinstall)

            <br>
            <a href="show_bug.cgi@id=22121.html#attach_6176"
               title="Go to the comment associated with the attachment">2009-12-15 15:47</a>,

            <a href="mailto:axel.grude&#64;gmail.com"
               title="Write an email to the creator of the attachment">Axel Grude
            </a>
          </span>
        </td>

          <td class="bz_attach_flags" valign="top">
              <i>no flags</i>
          </td>

        <td valign="top">
          <a href="https://www.mozdev.org/bugs/attachment.cgi?id=6176&amp;action=edit">Details</a>
        </td>
      </tr>
      <tr class="
                 ">
        <td valign="top">
            <a name="a2" href="QuickFolders-tb-pb-sm-1.8pre3.xpi.1"
               title="View the content of the attachment">
          <b>QF 1.8pre3</b></a>

          <span class="bz_attach_extra_info">
              (153.53 KB,
                application/x-xpinstall)

            <br>
            <a href="show_bug.cgi@id=22121.html#attach_6215"
               title="Go to the comment associated with the attachment">2010-01-07 09:40</a>,

            <a href="mailto:axel.grude&#64;gmail.com"
               title="Write an email to the creator of the attachment">Axel Grude
            </a>
          </span>
        </td>

          <td class="bz_attach_flags" valign="top">
              <i>no flags</i>
          </td>

        <td valign="top">
          <a href="https://www.mozdev.org/bugs/attachment.cgi?id=6215&amp;action=edit">Details</a>
        </td>
      </tr>

  <tr class="bz_attach_footer">
    <td colspan="3">
        <span class="bz_attach_view_hide">
        </span>
      <a href="https://www.mozdev.org/bugs/attachment.cgi?bugid=22121&amp;action=enter">Add an attachment</a>
      (proposed patch, testcase, etc.)
    </td>
  </tr>
</table>
<br>




  <br>
  <table cellpadding="1" cellspacing="1">
    <tr>
      <td>
          <fieldset>
            <legend>Note</legend>
            <p>
              You need to
              <a href="https://www.mozdev.org/bugs/show_bug.cgi?id=22121&amp;GoAheadAndLogIn=1">log in</a>
              before you can comment on or make changes to this bug.
            </p>
          </fieldset>
      </td>

      <td valign="top">
        <fieldset>
          <legend>Related actions</legend>
          <ul>
            <li><a href="https://www.mozdev.org/bugs/show_activity.cgi?id=22121">View Bug Activity</a></li>
            <li><a href="https://www.mozdev.org/bugs/show_bug.cgi?format=multiple&amp;id=22121">Format For Printing</a></li>
            <li><a href="https://www.mozdev.org/bugs/show_bug.cgi?ctype=xml&amp;id=22121">XML</a></li>
            <li><a href="https://www.mozdev.org/bugs/enter_bug.cgi?cloned_bug_id=22121">Clone This Bug</a></li>
          </ul>


          
        </fieldset>
      </td>
    </tr>
  </table>
  <br>





<hr>

<div id="comments"><script type="text/javascript">
  <!--
  function updateCommentPrivacy(checkbox, id) {
    var comment_elem = document.getElementById('comment_text_'+id).parentNode;
    if (checkbox.checked) {
      if (!comment_elem.className.match('bz_private')) {
        comment_elem.className = comment_elem.className.concat(' bz_private');
      }
    }
    else {
      comment_elem.className =
        comment_elem.className.replace(/(\s*|^)bz_private(\s*|$)/, '$2');
    }
  }
  //-->
  </script>








<div class="bz_comment">
        <table>
          <tr>
            <th align="left">
              <b><a name="c0" href="show_bug.cgi@id=22121.html#c0">
                Description</a>:</b>&nbsp;&nbsp;
            </th>
            <td align="left" width="30%">
              <b>Opened:</b> 2009-12-14 00:40
            </td>
          </tr>
        </table>
        


<pre class="bz_comment_text" >I am using TB 3.0 with Gentoo Linux 32 bit, QF 1.6.4.

I can re-order tabs using the rather annoying one up/one down mechanism which
hinted me that it should also be possible to re-order QF tabs via drag'n'drop.

Currently this does not work for me. When I try so I get the following message
each time I drag a QF tab on another QF tab:

QuickFolders:buttonDragObserver.onDragEnter - sourceNode = toolbarbutton

There is also no way to drop the dragged QF tab between two other QF tabs.
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c1" href="show_bug.cgi@id=22121.html#c1">
            #1</a> From 
          <a href="mailto:axel.grude&#64;gmail.com">Axel Grude</a>
          2009-12-15 05:28:04 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" >Hi 
after the onDragEnter messages, there should also be an onDrop message, like
this:

QuickFolders:buttonDragObserver.onDrop flavor=text/unicode

IF this doesn't happen then you can not reorder tabs. The drag&amp;drop only works
if you drag onto a button (not in between). Unfortunately the new Gecko updates
broke a lot of CSS functionality to do with dragging, so you do not get the
proper visual feedback that you would be used to coming from TB2.

Don't know too much about the GLoda error, but I google it as it seems to be
Gloda is a new indexing system introduced in TB 3 - here is a topic on this

<a href="http://getsatisfaction.com/mozilla_messaging/topics/empty_folder_tab_thunderbird_2_rc1_rc2">http://getsatisfaction.com/mozilla_messaging/topics/empty_folder_tab_thunderbird_2_rc1_rc2</a>

It might be an option to install TB3 fresh into a different folder. It should
then import your email profile. You would have to recreate the QuickFOlder
short cuts after this.
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c2" href="show_bug.cgi@id=22121.html#c2">
            #2</a> From 
          <a href="mailto:m.duelli&#64;web.de">Michael Duelli</a>
          2009-12-15 06:19:57 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" >Just found that I can re-order QF folders using DND but it is still limited on
moving tabs one position to left or to the right and it only works when you try
the considered QF folder movement a second or even third time.


In case the re-ordering does not work, I see the afore mentioned error message:

QuickFolders:buttonDragObserver.onDragEnter - sourceNode = toolbarbutton


In case the re-ordering works, I see:

QuickFolders:buttonDragObserver.onDrop flavor=text/unicode
QuickFolders:[...]
QuickFolders:model.update
QuickFolders:updateFolders(true)
QuickFolders:updateCategories()
QuickFolders:bookmarkCategories.length=0
QuickFolders:QuickFolders.Model.selectedFolders.length = 38)


In general, it would be nice if it worked more reliable.

Furthermore, I would like to see DNDing folders arbitrarily.
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c3" href="show_bug.cgi@id=22121.html#c3">
            #3</a> From 
          <a href="mailto:axel.grude&#64;gmail.com">Axel Grude</a>
          2009-12-15 15:35:08 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" >

(In reply to <a href="show_bug.cgi@id=22121.html#c2">comment #2</a>)
<span class="quote">&gt; Just found that I can re-order QF folders using DND but it is still limited on
&gt; moving tabs one position to left or to the right and it only works when you try
&gt; the considered QF folder movement a second or even third time.
&gt; </span >
Hi Michael,

I have added some specific code for TB version 3 that deals with the dragenter
- there might be Linux-specific code in the newer Mozilla version (that
TB3.01RC is based on) that is triggered. I prevent this now by calling the
preventDefault() method when the drag event is entered - although I did not
test this under Linux yet it already gives the instant benefit of providing the
visual feedback of the target items being ready to accept the drop. (mails into
subfolder menus, tabs on top of other tabs for reordering). It is likely that
this also fixes the spurious issues under Linux Gentoo that you are describing,
I will create an attachment with a preview version (1.7pre1) - can you test
whether this resolves the bug?

thanks a lot for your input
  Axel
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c4" href="show_bug.cgi@id=22121.html#c4">
            #4</a> From 
          <a href="mailto:axel.grude&#64;gmail.com">Axel Grude</a>
          2009-12-15 15:47:04 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" ><span class=""><a href="QuickFolders-tb-pb-1.7pre1.xpi" name="attach_6176" title="Test version for Drag &amp; Drop in TB3.01">Created an attachment (id=6176)</a> <a href="https://www.mozdev.org/bugs/attachment.cgi?id=6176&amp;action=edit" title="Test version for Drag &amp; Drop in TB3.01">[details]</a></span>
Test version for Drag &amp; Drop in TB3.01

This should give the ability to resort the folder tab like shown in the
animation. Little black arrows will indicate the new position of the tabs. This
version also provides visual feedback within the subfolder menus, on the folder
that is to receive a dropped email...
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c5" href="show_bug.cgi@id=22121.html#c5">
            #5</a> From 
          <a href="mailto:m.duelli&#64;web.de">Michael Duelli</a>
          2009-12-16 05:26:46 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi@id=22121.html#c4">comment #4</a>)
<span class="quote">&gt; Created an <span class=""><a href="QuickFolders-tb-pb-1.7pre1.xpi" name="attach_6176" title="Test version for Drag &amp; Drop in TB3.01">attachment (id=6176)</a> <a href="https://www.mozdev.org/bugs/attachment.cgi?id=6176&amp;action=edit" title="Test version for Drag &amp; Drop in TB3.01">[details]</a></span> [details]
&gt; Test version for Drag &amp; Drop in TB3.01
&gt; 
&gt; This should give the ability to resort the folder tab like shown in the
&gt; animation. Little black arrows will indicate the new position of the tabs. This
&gt; version also provides visual feedback within the subfolder menus, on the folder
&gt; that is to receive a dropped email...
&gt; </span >

Now QF indicates to after/before which folder it will insert the moved folder.
Great!

It also allows me to move a folder more than one hop.

Still one problem remains that moving a folder does not always work and gives

QuickFolders 14:23:18.853  [101 ms]   
buttonDragObserver.onDragEnter - sourceNode = toolbarbutton

and

QuickFolders 14:23:18.954  [101 ms]   
UNEXPECTED ERROR QuickFolders.OnDragEnter - empty sourceNode!

I can reproduce this when I move a folder successfully and want to move it
again directly afterwards.
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c6" href="show_bug.cgi@id=22121.html#c6">
            #6</a> From 
          <a href="mailto:axel.grude&#64;gmail.com">Axel Grude</a>
          2010-01-07 09:40:33 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" ><span class=""><a href="QuickFolders-tb-pb-sm-1.8pre3.xpi.1" name="attach_6215" title="QF 1.8pre3">Created an attachment (id=6215)</a> <a href="https://www.mozdev.org/bugs/attachment.cgi?id=6215&amp;action=edit" title="QF 1.8pre3">[details]</a></span>
QF 1.8pre3

Created a few enhancements in drag and drop over the last couple of days
(mainly to do with newsgroups and smart folders) - see if this resolves your
issue as well. I have tested this with SeaMonkey 2.0.1, TB 3 (Mozilla/5.0
(Windows; U; Windows NT 5.1; en-US; rv:1.9.1.5) Gecko/20091204 Thunderbird/3.0)
and Postbox 1.1 and dragging works fine.
Axel
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c7" href="show_bug.cgi@id=22121.html#c7">
            #7</a> From 
          <a href="mailto:m.duelli&#64;web.de">Michael Duelli</a>
          2010-01-13 02:27:27 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" >(In reply to <a href="show_bug.cgi@id=22121.html#c6">comment #6</a>)
<span class="quote">&gt; Created an <span class=""><a href="QuickFolders-tb-pb-sm-1.8pre3.xpi.1" name="attach_6215" title="QF 1.8pre3">attachment (id=6215)</a> <a href="https://www.mozdev.org/bugs/attachment.cgi?id=6215&amp;action=edit" title="QF 1.8pre3">[details]</a></span> [details]
&gt; QF 1.8pre3</span >

Dear Alex,

basically DND of QF folders works as good, as it did with the last test
version.

Often I get the error:

QuickFolders 11:3:50.524  [1263377030524 ms]   
UNEXPECTED ERROR QuickFolders.OnDragEnter - empty sourceNode!

I noticed it sometimes helps to click on the considered QF folder first, before
starting a DND action.

However, it does not always work with this trick :-( So it is not reproducible.

How can I help to solve this problem?
</pre>
    </div>
  <div class="bz_comment">
        <span class="bz_comment_head">
          <span class="comment_rule">-------</span> <i>Comment
          <a name="c8" href="show_bug.cgi@id=22121.html#c8">
            #8</a> From 
          <a href="mailto:axelg&#64;gofree.indigo.ie">Axel Grude</a>
          2010-01-13 03:59:03 
          </i>
          <span class="comment_rule">-------</span>
        </span>
        


<pre class="bz_comment_text" >
<span class="quote">&gt; Often I get the error:
&gt; 
&gt; QuickFolders 11:3:50.524  [1263377030524 ms]   
&gt; UNEXPECTED ERROR QuickFolders.OnDragEnter - empty sourceNode!
&gt; 
&gt; I noticed it sometimes helps to click on the considered QF folder first, before
&gt; starting a DND action.
&gt; 
&gt; However, it does not always work with this trick :-( So it is not reproducible.
&gt; 
&gt; How can I help to solve this problem?
&gt; </span >

Hi Michael,
If you get the error but the drag still works - I believe then that's nothing
to worry about (also it is not an error as it is caught by my own code, so its
just informational). I will make the message optional in the next version
(after 1.8.1).
</pre>
    </div>
</div>

</form>

<hr>
<i><font color="#777777">First</font></i>
  <i><font color="#777777">Last</font></i>
  <i><font color="#777777">Prev</font></i>
  <i><font color="#777777">Next</font></i>
  &nbsp;&nbsp;
  <i><font color="#777777">No search results available</font></i>

<br>
</div>



<div id="footer">
  <div class="intro"></div>




<ul id="useful-links">
  <li id="links-actions">
    <div class="label">Actions: </div><ul class="links">
  <li><a href="https://www.mozdev.org/bugs/">Home</a></li>
  <li><span class="separator">| </span><a href="https://www.mozdev.org/bugs/enter_bug.cgi">New</a></li>
  <li><span class="separator">| </span><a href="https://www.mozdev.org/bugs/query.cgi">Search</a></li>

  <li class="form">
    <span class="separator">| </span>
    <form action="https://www.mozdev.org/bugs/buglist.cgi" method="get"
        onsubmit="if (this.quicksearch.value == '')
                  { alert('Please enter one or more search terms first.');
                    return false; } return true;">
    <input class="txt" type="text" name="quicksearch">
    <input class="btn" type="submit" value="Find" id="find_bottom"></form></li>

  <li><span class="separator">| </span><a href="https://www.mozdev.org/bugs/report.cgi">Reports</a></li>

  <li>
    <span class="separator">| </span>
      <a href="https://www.mozdev.org/bugs/request.cgi">Requests</a></li>


      <li><span class="separator">| </span><a href="https://www.mozdev.org/bugs/createaccount.cgi">New&nbsp;Account</a></li>
      



      

        
      <li><span class="separator">| </span><a href="https://www.mozdev.org/bugs/show_bug.cgi?id=22121&amp;GoAheadAndLogIn=1">Log&nbsp;In</a></li>
</ul>
  </li>

  
    
    
    

  


  
</ul>

  <div class="outro"></div>
</div>

</body>
</html>